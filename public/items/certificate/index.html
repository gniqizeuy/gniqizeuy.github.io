<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <link rel="stylesheet" href="/css/style.css">
    <title>gniqizeuy blog</title>
</head>
<body>
<header id="header">
    <h1><a href="/">gniqizeuy blog</a></h1>
    <nav>
        <ul>
            <li><a href="/tags">tags</a></li>
            <li><a href="/sites">sites</a></li>
            <li><a href="https://github.com/spaghettiwews/hugonews">github</a></li>
        </ul>
    </nav>
</header>
<main id="main">
    <article class="single">
        
        <h4 id="digital-certificate">digital certificate</h4>
<p>小明在如下借条中签署了自己的姓名：</p>
<pre><code>今借到小红人名币一万元整
                借款人：小明
</code></pre>
<p>通过此借条我们可以得知：</p>
<ol>
<li>签名者的身份为小明（通过笔记鉴定可以确保其他人不能模仿）手写签名，不可伪造性</li>
<li>签名者认可该文件内容（通过肉眼观察可确保文件完整不被篡改）</li>
</ol>
<p>此时，如果文件换为电子版本，小明该如何在其上签名？并且确保签名者身份和认可的文件不可伪造 即使用数字签名算法</p>
<p>数字签名算法主要有 RSA DSA ECDSA 三种</p>
<p>其中的 RSA 数字签名算法包含了 RSA 加密算法与哈希算法</p>
<p>哈希算法也是一种加密算法，对称以及非对称加密算法为双向算法：即可加密也可解密。而哈希算法是一种单向（不可逆）加密算法，只能加密不能解密，通过哈希算法对目标信息生成一段特定长度的唯一哈希值，不可通过哈希值重新获得目标信息。</p>
<p>常用的哈希算法有 MD5 SHA-1 SHA-256 SHA-512</p>
<p>RSA 数字签名算法的具体运算过程如下：</p>
<ul>
<li>小明根据 RSA 加密算法生成公钥 私钥；</li>
<li>对文件进行哈希运算 得出文件哈希值 H ；</li>
<li>使用私钥根据 RSA 解密公式对文件哈希值进行签名运算 得出数字签名 S ；</li>
</ul>
<p>至此小明完成了对文件的数字签名</p>
<p>公钥 文件 及数字签名发送到互联网上；如果小红要验证文件是否已被小明签名，使用公钥根据 RSA 加密公式对数字签名进行验证运算 得出文件哈希值 H （因为 RSA 加密算法是双向的 即可加密也可解密）<br>
数字签名亦是如此 签名使用解密公式，验证使用加密公式。同时对文件进行哈希运算，得出文件哈希值 H ；将两个文件哈希值进行对比，如果两者相同，则证明签名成立，不同则签名不成立</p>
<p><strong>如何确保文件不被篡改</strong></p>
<p>如果文件被篡改，则文件的哈希值就会发生变化。两者就不相同，签名验证也就不能通过</p>
<p><strong>如何确保文件是小明本人签署</strong></p>
<p>因为数字签名只能由私钥拥有者生成，也就确保了签字这身份一定是私钥拥有者；但并不能确定私钥拥有者一定是小明。因为其他人自己也可生成一套公钥 私钥 并进行数字签名 冒充成小明签名；<br>
小红使用冒充者的公钥和数字签名，签名验证依然是成立的。此时如何确定私钥拥有者就是小明</p>
<p>即涉及到数字证书</p>
<p>首先公钥私钥是配对生成的，某一私钥对应着唯一的公钥，某一私钥拥有者也就对应公钥的生成者。因此只需证明公钥生成者的身份为小明即可，这就是数字证书的作用</p>
<p>小明将公钥及部分个人身份信息发送给某个权威公正的证书颁发（Certificate Authority 简称 CA）机构。CA 机构在核实小明身份后，将颁发一个数字证书。<br>
该证书内包含了小明的身份信息和其公钥数据也就证明了该公钥生成者的身份为小明</p>
<p>小明将该证书放到互联网上，这样小红根据该证书就可确定哪一个公钥是属于小明的。而其他人的数字签名使用小明公钥验证出的结果会发生改变，也就不能通过签名验证</p>
<p><strong>如何确保数字证书不会被伪造</strong></p>
<p>因为数字证书是经过 CA 机构数字签名的。CA 机构自己也生成一套公钥私钥。使用私钥对”小明身份信息及其公钥数据这一文件内容“进行数字签名并放到数字证书中<br>
数字证书就相当于文件和数字签名的组合体。而在每个人电脑或手机系统里默认安装了根证书。根证书里记录了可以信赖的 CA 机构信息及其公钥。根证书预先安装在系统中可以杜绝 CA 机构公钥被伪造的可能<br>
通过 CA 机构公钥就可以验证数字证书里的数字签名从而确保了数字证书的不可伪造性</p>
<p>至此可知通过数字签名及数字证书可以确保某一文件被谁签署而且没有篡改</p>
<h4 id="自签名证书">自签名证书</h4>
<p>在密码学与计算机安全中，自签名证书（self-signed certificate）是用自己的私钥签署的数字证书。是有效且无成本的。自签证书和CA签名证书一样可以用来加密数据，但是由于该证书不属于公开密钥基础建设签发证书，其他没信任该该证书的HTTPS访问者的网页浏览器会显示一个警告，说这个证书不被他们的计算机或浏览器信任。因此，只有当不需要向用户证明服务身份时，才可以使用自签名证书，如非公开的网页服务器。非浏览器客户可以连接到HTTPS服务器并明确信任自签名证书，以创建客户与服务器的安全通信。[1]</p>
<p>数字证书中主题(Subject)中字段的含义</p>
<p>一般的数字证书产品的主题通常含有如下字段：</p>
<p>公用名称 (Common Name)：简称：CN 字段，对于 SSL 证书，一般为网站域名；而对于代码签名证书则为申请单位名称；而对于客户端证书则为证书申请者的姓名；</p>

        
    </article>
</main>
<footer id="footer">look ma, a footer</footer>
</body>
</html>