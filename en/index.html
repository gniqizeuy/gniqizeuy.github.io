<!doctype html>



 <html class="no-js"> 

  <head>
    <title>saul - goodman</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <meta name="description" content="taicang">
    <meta name="google-site-verification" content="_kDN7uZlq3Uv5yjsjP5vA1I-u5_Vifz2XkAOla4l0hY">

    <link rel="shortcut icon" type="image/png" href="https://gniqizeuy.github.io//img/favicon.png" />
 
    <link rel="stylesheet" href="https://gniqizeuy.github.io//css/bootstrap.min.css">
    <link rel="stylesheet" href="https://gniqizeuy.github.io//css/main.css">
  </head>

  <body>

    <a href="https://github.com/gniqizeuy" class="hidden-xs">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;" src="https://github-camo.global.ssl.fastly.net/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png">
    </a>
<div id="top"></div>

<div class="header">
  <div class="hidden-xs stars_1"></div>
  <div class="hidden-xs stars_2"></div>

  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <a class="navbar-brand" href="#">taicang</a>
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="col-xs-12">
       
        
          
           <h1>gniqizeuy blog</h1>
 <p>do my best</p>
 
        

      </div>
      <div class="col-xs-12">
        <span class="pull-right links">
          <ul>
            <li>
              <a href="http://yslow.org/"><img height=24 src="https://gniqizeuy.github.io//img/yslow.png">YSlow.org</a>
            </li>
            <li>
              <a href="http://www.checkmy.ws/"><img width=24 src="https://gniqizeuy.github.io//img/checkmyws.png">Check my Website</a>
            </li>
          </ul>
        </span>
      </div>
    </div>
  </div>
</div>

<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <ul class="nav navbar-nav">
      <li>
        <a onclick="clickTag('all');">All</a>
      </li>
      
      <li>
        <a onclick="clickTag('python');">Python</a>
      </li>
      
      <li>
        <a onclick="clickTag('redis');">Redis</a>
      </li>
      
    </ul>

    <ul class="nav navbar-nav navbar-right">
      <li>
        <a href="https://gniqizeuy.github.io/en">
          <img src="https://gniqizeuy.github.io//css/blank.gif" class="flag flag-us" alt="English" />
        </a>
      </li>
      <li>
        <a href="https://gniqizeuy.github.io/fr">
          <img src="https://gniqizeuy.github.io//css/blank.gif" class="flag flag-fr" alt="Français" />
        </a>
      </li>
      <li>
        <a href="https://gniqizeuy.github.io/es">
          <img src="https://gniqizeuy.github.io//css/blank.gif" class="flag flag-es" alt="Espanõl" />
        </a>
      </li>
    </ul>
  </div>
</nav>

<div class="container intro">
  <div class="row">
    <div class="col-xs-12">
      
        
        <p><span style="color: red">code</span> <span style="color: green">eat</span> <span style="color: yellow">sleep</span></p>
      
    </div>
  </div>
</div>


<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="summary hidden-xs">
        <ol>
          
          <li class="rule tag-python ">
            <a href="#pySUmmary">Python Summary</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#pyDict">Python Dict</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#pySet">Python Set</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redisCmd">Redis Command</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redisList">Redis List</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redisString">Redis String</a>
          </li>
          
        </ol>
      </div>
      <div class="summary-small visible-xs">
        <ol>
          
          <li class="rule tag-python ">
            <a href="#pySUmmary">Python Summary</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#pyDict">Python Dict</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#pySet">Python Set</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redisCmd">Redis Command</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redisList">Redis List</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redisString">Redis String</a>
          </li>
          
        </ol>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-python " style="padding-bottom:1em;">

        <div id="pySUmmary"></div>
        <span class="hidden" itemprop="alternateName">pySUmmary</span>

        <h2>
            <a itemprop="url" href="#pySUmmary">
                <span itemprop="name">Python Summary</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/pySUmmary.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">python</span>
        

        <div itemprop="description">
            

<h2 id="toc_0">写给大忙人看</h2>

<h5 id="toc_1">哈哈哈，若感兴趣可点击相应文章查阅（其实只有你会看）😀小丑竟是我自己。</h5>

<h4 id="toc_2">字面量与构造方法</h4>

<h5 id="toc_3">1. 字典</h5>

<p>（1）字面量</p>

<pre><code class="python">lover = {'name': 'zxl', 'age': 18}
</code></pre>

<p>（2）构造方法
~~~python
lover = dict(&lsquo;name&rsquo;=&lsquo;zxl&rsquo;, &lsquo;age&rsquo;=18)
      = dict(zip([&lsquo;name&rsquo;, &lsquo;age&rsquo;,], [&lsquo;zxl&rsquo;, 18]))
      = dict([(&lsquo;name&rsquo;, &lsquo;zxl&rsquo;), (&lsquo;age&rsquo;, 18)])
      = dict({&lsquo;name&rsquo;: &lsquo;zxl&rsquo;, &lsquo;age&rsquo;: 18})
~~~</p>

<h5 id="toc_4">2. 集合</h5>

<p>（1）字面量(set)</p>

<pre><code class="python">fav_player = {'kobe', 'lebra'}
</code></pre>

<p>（2）构造方法</p>

<pre><code class="python">fav_player = set({'kobe', 'lebra'})
</code></pre>

<p>​         frozenset没有字面量句法</p>

<pre><code class="python">fav_player = frozenset({'kobe', 'lebra'})
</code></pre>

<p>​         空集合必须写成 set()，{}只会表示为空字典</p>

<pre><code class="python">empty_set = set()
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-python " style="padding-bottom:1em;">

        <div id="pyDict"></div>
        <span class="hidden" itemprop="alternateName">pyDict</span>

        <h2>
            <a itemprop="url" href="#pyDict">
                <span itemprop="name">Python Dict</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/pyDict.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">python</span>
        

        <div itemprop="description">
            

<p><font color=red>散列表</font>是字典类型性能出众的根本原因</p>

<p>字典提供了多种构造函数 点击<a href="https://docs.python.org/3/library/stdtypes.html#mapping-types-dict">Built-in Types</a> 有例子说明创建字典的不同形式</p>

<pre><code class="python">&gt;&gt;&gt; a = dict(one=1, two=2, three=3)
&gt;&gt;&gt; b = {'one': 1, 'two': 2, 'three': 3}
&gt;&gt;&gt; c = dict(zip(['one', 'two', 'three'], [1, 2, 3]))
&gt;&gt;&gt; d = dict([('two', 2), ('one', 1), ('three', 3)])
&gt;&gt;&gt; e = dict({'three': 3, 'one': 1, 'two': 2})
&gt;&gt;&gt; a == b == c == d == e
True
</code></pre>

<h5 id="toc_0">字典推导</h5>

<p>自python 2.7以来，列表和生成器表达式的概念移植到字典上,从而有个字典推导（后面还会看到集合推到）</p>

<p>字典推导（dictcomp）可以从<font color=red>任何以键值对作为元素的可选迭代对象</font>中构建字典</p>

<p>下例展示利用字典推导可以把一个装满元组的列表变成两个不同的字典。</p>

<pre><code class="python">&gt;&gt;&gt; simple_list = [
    (1, 'a'),
    (2, 'b'),
    (3, 'c'),
    (4, 'd'),
    (5, 'e'),
    (6, 'f'),
    (7, 'g'),
]

&gt;&gt;&gt; res = {num: char for char num in simple_list}
&gt;&gt;&gt; res
{'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5, 'f': 6, 'g': 7}

&gt;&gt;&gt; {num: char.upper() for char, code in res.items() if num &lt; 4}
{1: 'a', 2: 'b', 3: 'c'}
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-python " style="padding-bottom:1em;">

        <div id="pySet"></div>
        <span class="hidden" itemprop="alternateName">pySet</span>

        <h2>
            <a itemprop="url" href="#pySet">
                <span itemprop="name">Python Set</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/pySet.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">python</span>
        

        <div itemprop="description">
            

<p>​       &ldquo;集&rdquo; 这个概念在Pyhton中算是比较年轻的，同时使用率也较低。set和它的不可变姊妹类型frozenset直到Pyhton2.3才首次以模块的形式出现，然后在Python2.6中它们升级成为内置类型</p>

<p>​       集合的本质是<font color=red>许多唯一对象</font>的集合。因此，集合可以去重：</p>

<pre><code class="python">&gt;&gt;&gt; l = ['spam', 'spam', 'eggs', 'spam']
&gt;&gt;&gt; set(l)
&gt;&gt;&gt; {'eggs', 'spam'}
&gt;&gt;&gt; list(set(l))
&gt;&gt;&gt; ['eggs', 'spam']
</code></pre>

<p>​       集合中的元素必须是<font color=red>可散列</font>的，set类型本身是不可散列的，但是frozenset可以。因此可以创建一个包含不同frozenset的set。</p>

<p>​       除了保证唯一性，集合还实现了很多基础的中缀运算符。给定两个集合a和b, <strong>a|b</strong> 返回的是它们的<strong>合集</strong>，</p>

<p><strong>a &amp; b</strong>得到的是<strong>交集</strong>，而a - b得到的是<strong>差集</strong>。合理地利用这些操作，可使代码行数变少，还能减少Python程序的运行时间。亦可使代码更易读，从而更容易判断程序的正确性，因为利用这些运算符可以省去不必要的循环和逻辑操作。</p>

<p>​       例1：needles中元素在haystack里出现次数，两个变量都是set类型。</p>

<pre><code class="python">found = len(needles &amp; haystack)
</code></pre>

<p>​       例2：for循环实现。</p>

<pre><code class="python">found =  0
for n in needles
    if n in haystack
        found += 1
</code></pre>

<p>​       例1比例2速度要快一些，另一方面，例2可以用在任何可迭代对象上，例1则要求两者皆为集合。若没有集合，可随时建立集合，如例3所示。</p>

<p>​       例3：转化为set进行交集操作</p>

<pre><code class="python">found = len(set(needles) &amp; set(haystack))
</code></pre>

<p>​       另一种写法</p>

<pre><code class="python">found = len(set(needles).intersection(haystack))
</code></pre>

<p>​       例3写法会牵制到把对象转化为集合的成本，不过如果 needles 或 haystack 中任一为集合，那么例3的方案比例2更高效。</p>

<p>​       以上所有例子的运行时间都能在3毫秒左右，在含有10000000个元素的haystack里搜索1000个值，算下来大概时每个元素3微妙。</p>

<p>除了速度极快的查找功能（这归功于背后的散列表），内置的 set 和 frozenset 提供了丰富的功能和操作，不但让创建集合的方式丰富多彩，且对于 set 来讲，我们还可以对集合里已有的元素进行修改。在讨论操作之前，先看下相关的句法。</p>

<h5 id="toc_0">集合字面量</h5>

<p>​       除空集之外，集合的字面量——{1}、{1, 2}，等到——看起来与数学形式一摸一样。若是空集，则必须写成set()的形式</p>

<p>​       tip：创建空集，必须使用不带任何参数的构造方法 set()，如果只写成 {} 的形式，跟以前一样，你创建的其实是个空字典</p>

<p>​       在python3中，除了空集，集合的字符串表示形式总是以 {&hellip;} 的形式出现。</p>

<p>​       字面量句法 {1, 2, 3} 相比构造方法 (set([1, 2, 3])) 要更快更易读，后者的速度要慢一些，因为Pyhton 必须先从这个名字来查询构造方法，然后新建一个列表，最后再把这个列表传入到构造方法中，但如果是字面量的形式，Python会利用一个专门的叫做 BUILD_SET 的字节码来创建集合。</p>

<p>​</p>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-redis " style="padding-bottom:1em;">

        <div id="redisCmd"></div>
        <span class="hidden" itemprop="alternateName">redisCmd</span>

        <h2>
            <a itemprop="url" href="#redisCmd">
                <span itemprop="name">Redis Command</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/redisCmd.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">redis</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">全局命令</h3>

<h5 id="toc_1">1. 查看所有键：</h5>

<pre><code class="shell">keys *
</code></pre>

<h5 id="toc_2">2. 键总数：</h5>

<pre><code class="shell">dbsize
</code></pre>

<h5 id="toc_3">3. 检查键是否存在</h5>

<pre><code class="shell">exists key # 存在返回1，不存在返回0
</code></pre>

<h5 id="toc_4">4. 删除键</h5>

<pre><code class="shell">del key [key ...] # 通用命令 无论值是什么类型都可删除 返回结果为成功删除键的个数，删除不存在的键，就会返回0
</code></pre>

<h5 id="toc_5">5. 键过期</h5>

<pre><code class="shell">expire key seconds
</code></pre>

<p>ttl 命令返回键的剩余过期时间，有三种返回值</p>

<ul>
<li>大于等于0的整数：键剩余的过期时间</li>
<li>-1：键没设置过期时间</li>
<li>-2：键不存在</li>
</ul>

<h5 id="toc_6">6. 键的数据结构类型</h5>

<pre><code class="shell">type key # 键不存在，则返回none
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-redis " style="padding-bottom:1em;">

        <div id="redisList"></div>
        <span class="hidden" itemprop="alternateName">redisList</span>

        <h2>
            <a itemprop="url" href="#redisList">
                <span itemprop="name">Redis List</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/redisList.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">redis</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">列表</h3>

<p>列表的四种操作类型</p>

<table>
<thead>
<tr>
<td>操作类型</td>
<td>操作</td>
</tr>
</thead>

<tbody>
<tr>
<td>添加</td>
<td>rpush    lpush    linsert</td>
</tr>

<tr>
<td>查</td>
<td>lrange    lindex   len</td>
</tr>

<tr>
<td>删除</td>
<td>lpop     rpop     lrem    ltrim</td>
</tr>

<tr>
<td>修改</td>
<td>lset</td>
</tr>

<tr>
<td>阻塞操作</td>
<td>blop   brpop</td>
</tr>
</tbody>
</table>

<h5 id="toc_1">1.添加操作</h5>

<p>（1）从右边插入元素</p>

<pre><code class="shell">rpush key value [value ...]
</code></pre>

<p>lrang 0 -1 命令可以从左到右获取列表的所有元素</p>

<p>（2）从左边插入元素</p>

<pre><code class="shell">lpush key value [value ....]
</code></pre>

<p>（3）向某个元素前或者后插入元素</p>

<pre><code class="shell">linsert key before|after privot value
</code></pre>

<p>linsert 命令会从列表中找到等于pivot的元素，在其前（before）或者后（after）插入新元素value</p>

<p>返回当前命令长度</p>

<h5 id="toc_2">2.查找</h5>

<p>（1）获取指定范围内的元素列表</p>

<pre><code class="powershell">lrange key start end
</code></pre>

<p>lrange操作会获取列表指定索引范围所有的元素。索引下标有两个特点：</p>

<p>第一，索引下标从左到右分别是0到N-1，但从右到左分别是-1 到 -N</p>

<p>第二，lrange中的end选项包含了自身</p>

<p>（2）获取列表指定索引下标的元素</p>

<pre><code class="powershell">lindex key index
</code></pre>

<p>（3）获取列表长度</p>

<pre><code class="powershell">llen key
</code></pre>

<h5 id="toc_3">3.删除</h5>

<p>（1）从列表左侧弹出元素</p>

<pre><code class="powershell">lpop key
</code></pre>

<p>（2）从列表右侧弹出</p>

<pre><code class="powershell">rpop key
</code></pre>

<p>（3）删除指定元素</p>

<pre><code class="powershell">lrem key count value
</code></pre>

<p>lrem 会从列表中找到等于value 的元素进行删除，根据count的不同分为三种情况：</p>

<ul>
<li>count&gt;0，从左到右，删除最多count个元素。</li>
<li>count&lt;0，从右到左，删除最多count绝对值个元素</li>
<li>count=0，删除所有</li>
</ul>

<p>（4）按照索引范围修剪列表</p>

<pre><code class="powershell">ltrim key start end
</code></pre>

<h5 id="toc_4">4. 修改</h5>

<p>修改指定索引下标的元素：</p>

<pre><code class="powershell">lset key index newValue
</code></pre>

<h5 id="toc_5">5. 阻塞操作</h5>

<p>阻塞式弹出如下：</p>

<pre><code class="powershell">blpop key [key ...] timout
brpop key [key ...] timout
</code></pre>

<p>blpop 和 brpop 是 lpop 和 rpop 的阻塞版本，它们除了弹出方式不同，使用方法基本相同，所以下面以brpop命令进行说明,brpop命令包含两个参数:</p>

<ul>
<li>key [key &hellip;]：多个列表的键。</li>
<li>timeout：阻塞时间（单位：秒）</li>
</ul>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-redis " style="padding-bottom:1em;">

        <div id="redisString"></div>
        <span class="hidden" itemprop="alternateName">redisString</span>

        <h2>
            <a itemprop="url" href="#redisString">
                <span itemprop="name">Redis String</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/redisString.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">redis</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">字符串</h3>

<h4 id="toc_1">1 常用命令</h4>

<p>(1) 设置值</p>

<pre><code class="shell">set key value [ex seconds] [px milliseconds] [nx|xx]
</code></pre>

<p>set 命令有几个选项</p>

<ul>
<li>ex seconds：为键设置秒级过期时间。</li>
<li>px milliseconds：为键设置毫秒级过期时间</li>
<li>nx： 键必须不存在，才可以设置成功，用于添加</li>
<li>xx：与nx相反，键必须存在，才可以设置成功，用于更新</li>
</ul>

<p>除了 set 选项，Redis 还提供了 setex 和 setnx 两个命令</p>

<pre><code class="shell">setnx key seconds value
setnx key value
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
  </div>
</div>


<hr>
<div class="container footer">
  <div class="row">
    <div class="col-xs-12 text-center">
		YSlow are licensed under the <a href="https://raw.github.com/marcelduran/yslow/master/LICENSE.txt">New BSD License</a>.<br>
		YSlow also includes files from the <a href="http://yuilibrary.com/">Yahoo! User Interface library</a>, which are licensed under the <a href="http://yuilibrary.com/license/">BSD license</a>.<br>
		Translations are licensed under the <a href="https://raw.github.com/checkmyws/yslow-rules/master/LICENSE">MIT License</a>.<br>
		Powered by <a href="http://hugo.spf13.com/">Hugo</a>.
    </div>
  </div>
</div>
    <noscript></noscript>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src="https://gniqizeuy.github.io//js/main.js"></script>
  </body>
</html>