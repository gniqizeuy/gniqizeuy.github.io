<!doctype html>



 <html class="no-js"> 

  <head>
    <title>saul - goodman</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <meta name="description" content="taicang">
    <meta name="google-site-verification" content="_kDN7uZlq3Uv5yjsjP5vA1I-u5_Vifz2XkAOla4l0hY">

    <link rel="shortcut icon" type="image/png" href="https://gniqizeuy.github.io//img/favicon.png" />
 
    <link rel="stylesheet" href="https://gniqizeuy.github.io//css/bootstrap.min.css">
    <link rel="stylesheet" href="https://gniqizeuy.github.io//css/main.css">
  </head>

  <body>

    <a href="https://github.com/gniqizeuy" class="hidden-xs">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;" src="https://github-camo.global.ssl.fastly.net/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png">
    </a>
<div id="top"></div>

<div class="header">
  <div class="hidden-xs stars_1"></div>
  <div class="hidden-xs stars_2"></div>

  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <a class="navbar-brand" href="#">taicang</a>
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="col-xs-12">
       
        
          
           <h1>gniqizeuy blog</h1>
 <p>do my best</p>
 
        

      </div>
      <div class="col-xs-12">
        <span class="pull-right links">
          <ul>
            <li>
              <a href="http://yslow.org/"><img height=24 src="https://gniqizeuy.github.io//img/yslow.png">YSlow.org</a>
            </li>
            <li>
              <a href="http://www.checkmy.ws/"><img width=24 src="https://gniqizeuy.github.io//img/checkmyws.png">Check my Website</a>
            </li>
          </ul>
        </span>
      </div>
    </div>
  </div>
</div>

<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <ul class="nav navbar-nav">
      <li>
        <a onclick="clickTag('all');">All</a>
      </li>
      
      <li>
        <a onclick="clickTag('java');">Java</a>
      </li>
      
      <li>
        <a onclick="clickTag('js');">Js</a>
      </li>
      
      <li>
        <a onclick="clickTag('other');">Other</a>
      </li>
      
      <li>
        <a onclick="clickTag('python');">Python</a>
      </li>
      
      <li>
        <a onclick="clickTag('redis');">Redis</a>
      </li>
      
      <li>
        <a onclick="clickTag('spring');">Spring</a>
      </li>
      
    </ul>

    <ul class="nav navbar-nav navbar-right">
      <li>
        <a href="https://gniqizeuy.github.io/en">
          <img src="https://gniqizeuy.github.io//css/blank.gif" class="flag flag-us" alt="English" />
        </a>
      </li>
      <li>
        <a href="https://gniqizeuy.github.io/fr">
          <img src="https://gniqizeuy.github.io//css/blank.gif" class="flag flag-fr" alt="FranÃ§ais" />
        </a>
      </li>
      <li>
        <a href="https://gniqizeuy.github.io/es">
          <img src="https://gniqizeuy.github.io//css/blank.gif" class="flag flag-es" alt="EspanÃµl" />
        </a>
      </li>
    </ul>
  </div>
</nav>

<div class="container intro">
  <div class="row">
    <div class="col-xs-12">
      
        
        <p><span style="color: red; font-size: 20px">code</span> <span style="color: green; font-size: 20px">eat</span> <span style="color: blue; font-size: 20px">sleep</span></p>
      
    </div>
  </div>
</div>


<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="summary hidden-xs">
        <ol>
          
          <li class="rule tag-java ">
            <a href="#java_file">Java file</a>
          </li>
          
          <li class="rule tag-spring ">
            <a href="#spring_yml">Spring YML</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#py_dict">Python Dict</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#py_set">Python Set</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#py_summary">Python Summary</a>
          </li>
          
          <li class="rule tag-js ">
            <a href="#java_collections">Java Collections</a>
          </li>
          
          <li class="rule tag-java ">
            <a href="#java_sort">java sort</a>
          </li>
          
          <li class="rule tag-js ">
            <a href="#js_websocket">Js WebSocket</a>
          </li>
          
          <li class="rule tag-js ">
            <a href="#js_storage">Js Storage</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_clients">Redis Clients</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_cmd">Redis Command</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_list">Redis List</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_string">Redis String</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_config">Redis Config</a>
          </li>
          
          <li class="rule tag-other ">
            <a href="#mac">MAC adr</a>
          </li>
          
        </ol>
      </div>
      <div class="summary-small visible-xs">
        <ol>
          
          <li class="rule tag-java ">
            <a href="#java_file">Java file</a>
          </li>
          
          <li class="rule tag-spring ">
            <a href="#spring_yml">Spring YML</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#py_dict">Python Dict</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#py_set">Python Set</a>
          </li>
          
          <li class="rule tag-python ">
            <a href="#py_summary">Python Summary</a>
          </li>
          
          <li class="rule tag-js ">
            <a href="#js_websocket">Js WebSocket</a>
          </li>
          
          <li class="rule tag-js ">
            <a href="#java_collections">Java Collections</a>
          </li>
          
          <li class="rule tag-java ">
            <a href="#java_sort">java sort</a>
          </li>
          
          <li class="rule tag-js ">
            <a href="#js_storage">Js Storage</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_clients">Redis Clients</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_cmd">Redis Command</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_list">Redis List</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_string">Redis String</a>
          </li>
          
          <li class="rule tag-redis ">
            <a href="#redis_config">Redis Config</a>
          </li>
          
          <li class="rule tag-other ">
            <a href="#mac">MAC adr</a>
          </li>
          
        </ol>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-java " style="padding-bottom:1em;">

        <div id="java_file"></div>
        <span class="hidden" itemprop="alternateName">java_file</span>

        <h2>
            <a itemprop="url" href="#java_file">
                <span itemprop="name">Java file</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/java_file.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">java</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">try-with-resources ä¼˜å…ˆäº try-finally</h3>

<p>ã€€ã€€java7 ä¸­å¼•å…¥äº† try-with-resourcesè¯­å¥ã€‚è¦ä½¿ç”¨è¿™ä¸ªæ„é€ çš„èµ„æºï¼Œå¿…é¡»å…ˆå®ç° <strong>AutoCloseable</strong> æ¥å£ï¼Œå…¶ä¸­åŒ…å«äº†å•ä¸ªè¿”å› void çš„ close æ–¹æ³•ã€‚java ç±»åº“ä¸ç¬¬ä¸‰æ–¹ç±»åº“ä¸­è®¸å¤šç±»å’Œæ¥å£ï¼Œç°åœ¨éƒ½å®ç°æˆ–æ‰©å±•äº† AutoCloseable æ¥å£ã€‚å¦‚æœç¼–å†™äº†ä¸€ä¸ªç±»ï¼Œå®ƒä»£è¡¨çš„æ˜¯å¿…é¡»è¢«å…³é—­çš„èµ„æºï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¹Ÿåº”è¯¥å®ç° AutoCloseableã€‚</p>

<p>ã€€èŒƒä¾‹1ï¼š</p>

<pre><code class="java">static String firstLineOfFile(String path) throws IOException {
    try (BufferedReader br = new BufferReader(new FileReader(path))) {
        return br.readLine();
    }
}
</code></pre>

<p>ã€€èŒƒä¾‹2ï¼š</p>

<pre><code class="java">static void copy(String src, String dst) throws IOException {
    try (
        InputStream in = new FileInputStream(src);
        OutputStream out = new FileOutputStream(dst)
    ) {
        byte[] buf = new byte[BUFFER_SIZE];
        int n;
        while ((n = in.read(buf)) &gt;= 0)
            out.write(buf, 0, n);
    }
}
</code></pre>

<p>ã€€ã€€ä½¿ç”¨ try-with-resources ä¸ä»…ä½¿ä»£ç å˜å¾—ç®€æ´æ˜“æ‡‚ï¼Œä¹Ÿæ›´å®¹æ˜“è¯Šæ–­ã€‚ä»¥ firstLineOfFile æ–¹æ³•ä¸ºä¾‹ï¼Œå¦‚æœè°ƒç”¨ readline å’Œï¼ˆä¸å¯è§ï¼‰close æ–¹æ³•éƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œåä¸€ä¸ªå¼‚å¸¸å°±ä¼šè¢«ç¦æ­¢ï¼Œä»¥ä¿ç•™ç¬¬ä¸€ä¸ªå¼‚å¸¸ã€‚äº‹å®ä¸Šï¼Œä¸ºäº†ä¿ç•™ä½ æƒ³çœ‹åˆ°çš„é‚£ä¸ªå¼‚å¸¸ï¼Œå³ä¾¿å¤šä¸ªå¼‚å¸¸éƒ½å¯ä»¥è¢«ç¦æ­¢ã€‚è¿™äº›è¢«ç¦æ­¢çš„å¼‚å¸¸å¹¶ä¸æ˜¯ç®€å•åœ°è¢«æŠ›å¼ƒäº†ï¼Œè€Œæ˜¯ä¼šè¢«æ‰“å°åœ¨å †æ ˆè½¨è¿¹ä¸­ï¼Œå¹¶æ³¨æ˜å®ƒä»¬æ˜¯è¢«ç¦æ­¢çš„å¼‚å¸¸ã€‚é€šè¿‡ç¼–ç¨‹è°ƒç”¨ getSuppressed æ–¹æ³•è¿˜å¯ä»¥è®¿é—®åˆ°å®ƒä»¬ï¼ŒgetSuppressed æ–¹æ³•ä¹Ÿæ·»åŠ åœ¨ java 7  çš„ Throwable ä¸­</p>

<p>ã€€ã€€åœ¨ try-with-resources è¯­å¥ä¸­è¿˜å¯ä»¥ä½¿ç”¨ catch å­å¥ï¼Œå°±åƒåœ¨å¹³æ—¶çš„ try-finally è¯­å¥ä¸­ä¸€æ ·ã€‚è¿™æ ·æ—¢å¯ä»¥å¤„ç†å¼‚å¸¸ï¼Œåˆä¸éœ€è¦å†å¥—ç”¨ä¸€å±‚ä»£ç ã€‚</p>

<pre><code class="java">static String firstLineOfFile(String path, String defaultVal) {
    try (BufferedReader br = new BufferedReader(new FileReader(path))) {
        return br.readLine();
    } catch (IOException e) {
        return dafaultVal
    }
}
</code></pre>

<p>ã€€ã€€è¿™ä¸ªfirstLineOfFile æ–¹æ³•æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œä½†æ˜¯å¦‚æœå®ƒæ— æ³•æ‰“å¼€æ–‡ä»¶ï¼Œæˆ–è€…æ— æ³•ä»ä¸­è¯»å–ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªé»˜è®¤å€¼ã€‚åœ¨å¤„ç†å¿…é¡»å…³é—­çš„èµ„æºæ—¶ï¼Œå§‹ç»ˆè¦ä¼˜å…ˆè€ƒè™‘ç”¨try-with-resourcesï¼Œè€Œä¸æ˜¯ç”¨ try-finallyã€‚è¿™æ ·å¾—åˆ°çš„ä»£ç å°†æ›´åŠ ç®€æ´ã€æ¸…æ™°ã€äº§ç”Ÿçš„å¼‚å¸¸ä¹Ÿæ›´æœ‰ä»·å€¼ã€‚</p>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-spring " style="padding-bottom:1em;">

        <div id="spring_yml"></div>
        <span class="hidden" itemprop="alternateName">spring_yml</span>

        <h2>
            <a itemprop="url" href="#spring_yml">
                <span itemprop="name">Spring YML</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/spring_yml.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">spring</span>
        

        <div itemprop="description">
            

<h2 id="toc_0">æ•°æ®æ ¼å¼</h2>

<ul>
<li>åŸºæœ¬ç±»å‹</li>
</ul>

<pre><code class="yaml">  name: taicang
  age: 18
</code></pre>

<ul>
<li>é”®å€¼å¯¹</li>
</ul>

<pre><code class="yaml">  person:
    name: taicang
    age: 18
</code></pre>

<ul>
<li>æ•°ç»„</li>
</ul>

<pre><code class="yaml">  favplayer:
    - kobe
    - lebra
</code></pre>

<h2 id="toc_1">è¯»å–æ–¹å¼</h2>

<ul>
<li>@Value</li>
</ul>

<pre><code class="yaml">  server:
    port: 8080
</code></pre>

<p>java</p>

<pre><code class="java">  @Value(&quot;${server.port}&quot;)
  private String port
</code></pre>

<ul>
<li>ConfigurationProperties</li>
</ul>

<pre><code class="yaml">student:
    name: jackma
    age: 18
</code></pre>

<p>javabeanï¼ˆéœ€prefix (å‰ç¼€) å‚æ•°ï¼‰</p>

<pre><code class="java">@Component
@Lombok
@ConfigurationProperties(prefix = &quot;student&quot;)
  public class Student {
      private String name;
  
      private Integer age;
  }
</code></pre>

<ul>
<li>Environment</li>
</ul>

<pre><code class="yaml">  mes:
    url: xxxxxxx
</code></pre>

<p>java</p>

<pre><code class="java">  @Resource
  private Environment env;
  
  @GetMapping(&quot;/mes&quot;)
  public String getMesUrl() {
      String url = env.getProperty(&quot;mes.url&quot;);
      
      return url;
  }
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-python " style="padding-bottom:1em;">

        <div id="py_dict"></div>
        <span class="hidden" itemprop="alternateName">py_dict</span>

        <h2>
            <a itemprop="url" href="#py_dict">
                <span itemprop="name">Python Dict</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/py_dict.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">python</span>
        

        <div itemprop="description">
            

<p><font color=red>æ•£åˆ—è¡¨</font>æ˜¯å­—å…¸ç±»å‹æ€§èƒ½å‡ºä¼—çš„æ ¹æœ¬åŸå› </p>

<p>ã€€ã€€å­—å…¸æä¾›äº†å¤šç§æ„é€ å‡½æ•° ç‚¹å‡»<a href="https://docs.python.org/3/library/stdtypes.html#mapping-types-dict">Built-in Types</a> æœ‰ä¾‹å­è¯´æ˜åˆ›å»ºå­—å…¸çš„ä¸åŒå½¢å¼</p>

<pre><code class="python">&gt;&gt;&gt; a = dict(one=1, two=2, three=3)
&gt;&gt;&gt; b = {'one': 1, 'two': 2, 'three': 3}
&gt;&gt;&gt; c = dict(zip(['one', 'two', 'three'], [1, 2, 3]))
&gt;&gt;&gt; d = dict([('two', 2), ('one', 1), ('three', 3)])
&gt;&gt;&gt; e = dict({'three': 3, 'one': 1, 'two': 2})
&gt;&gt;&gt; a == b == c == d == e
True
</code></pre>

<h5 id="toc_0">å­—å…¸æ¨å¯¼</h5>

<p>ã€€ã€€è‡ªpython 2.7ä»¥æ¥ï¼Œåˆ—è¡¨å’Œç”Ÿæˆå™¨è¡¨è¾¾å¼çš„æ¦‚å¿µç§»æ¤åˆ°å­—å…¸ä¸Š,ä»è€Œæœ‰ä¸ªå­—å…¸æ¨å¯¼ï¼ˆåé¢è¿˜ä¼šçœ‹åˆ°é›†åˆæ¨åˆ°ï¼‰</p>

<p>ã€€ã€€å­—å…¸æ¨å¯¼ï¼ˆdictcompï¼‰å¯ä»¥ä»<font color=red>ä»»ä½•ä»¥é”®å€¼å¯¹ä½œä¸ºå…ƒç´ çš„å¯é€‰è¿­ä»£å¯¹è±¡</font>ä¸­æ„å»ºå­—å…¸</p>

<p>ã€€ã€€ä¸‹ä¾‹å±•ç¤ºåˆ©ç”¨å­—å…¸æ¨å¯¼å¯ä»¥æŠŠä¸€ä¸ªè£…æ»¡å…ƒç»„çš„åˆ—è¡¨å˜æˆä¸¤ä¸ªä¸åŒçš„å­—å…¸ã€‚</p>

<pre><code class="python">&gt;&gt;&gt; simple_list = [
    (1, 'a'),
    (2, 'b'),
    (3, 'c'),
    (4, 'd'),
    (5, 'e'),
    (6, 'f'),
    (7, 'g'),
]

&gt;&gt;&gt; res = {num: char for char num in simple_list}
&gt;&gt;&gt; res
{'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5, 'f': 6, 'g': 7}

&gt;&gt;&gt; {num: char.upper() for char, code in res.items() if num &lt; 4}
{1: 'a', 2: 'b', 3: 'c'}
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-python " style="padding-bottom:1em;">

        <div id="py_set"></div>
        <span class="hidden" itemprop="alternateName">py_set</span>

        <h2>
            <a itemprop="url" href="#py_set">
                <span itemprop="name">Python Set</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/py_set.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">python</span>
        

        <div itemprop="description">
            

<p>&ldquo;é›†&rdquo; è¿™ä¸ªæ¦‚å¿µåœ¨Pyhtonä¸­ç®—æ˜¯æ¯”è¾ƒå¹´è½»çš„ï¼ŒåŒæ—¶ä½¿ç”¨ç‡ä¹Ÿè¾ƒä½ã€‚setå’Œå®ƒçš„ä¸å¯å˜å§Šå¦¹ç±»å‹frozensetç›´åˆ°Pyhton2.3æ‰é¦–æ¬¡ä»¥æ¨¡å—çš„å½¢å¼å‡ºç°ï¼Œç„¶ååœ¨Python2.6ä¸­å®ƒä»¬å‡çº§æˆä¸ºå†…ç½®ç±»å‹</p>

<p>ã€€ã€€é›†åˆçš„æœ¬è´¨æ˜¯<font color=red>è®¸å¤šå”¯ä¸€å¯¹è±¡</font>çš„é›†åˆã€‚å› æ­¤ï¼Œé›†åˆå¯ä»¥å»é‡ï¼š</p>

<pre><code class="python">&gt;&gt;&gt; l = ['spam', 'spam', 'eggs', 'spam']
&gt;&gt;&gt; set(l)
&gt;&gt;&gt; {'eggs', 'spam'}
&gt;&gt;&gt; list(set(l))
&gt;&gt;&gt; ['eggs', 'spam']
</code></pre>

<p>ã€€ã€€é›†åˆä¸­çš„å…ƒç´ å¿…é¡»æ˜¯<font color=red>å¯æ•£åˆ—</font>çš„ï¼Œsetç±»å‹æœ¬èº«æ˜¯ä¸å¯æ•£åˆ—çš„ï¼Œä½†æ˜¯frozensetå¯ä»¥ã€‚å› æ­¤å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸åŒfrozensetçš„setã€‚</p>

<p>ã€€ã€€é™¤äº†ä¿è¯å”¯ä¸€æ€§ï¼Œé›†åˆè¿˜å®ç°äº†å¾ˆå¤šåŸºç¡€çš„ä¸­ç¼€è¿ç®—ç¬¦ã€‚ç»™å®šä¸¤ä¸ªé›†åˆaå’Œb, <strong>a|b</strong> è¿”å›çš„æ˜¯å®ƒä»¬çš„<strong>åˆé›†</strong>ï¼Œ</p>

<p><strong>a &amp; b</strong>å¾—åˆ°çš„æ˜¯<strong>äº¤é›†</strong>ï¼Œè€Œa - bå¾—åˆ°çš„æ˜¯<strong>å·®é›†</strong>ã€‚åˆç†åœ°åˆ©ç”¨è¿™äº›æ“ä½œï¼Œå¯ä½¿ä»£ç è¡Œæ•°å˜å°‘ï¼Œè¿˜èƒ½å‡å°‘Pythonç¨‹åºçš„è¿è¡Œæ—¶é—´ã€‚äº¦å¯ä½¿ä»£ç æ›´æ˜“è¯»ï¼Œä»è€Œæ›´å®¹æ˜“åˆ¤æ–­ç¨‹åºçš„æ­£ç¡®æ€§ï¼Œå› ä¸ºåˆ©ç”¨è¿™äº›è¿ç®—ç¬¦å¯ä»¥çœå»ä¸å¿…è¦çš„å¾ªç¯å’Œé€»è¾‘æ“ä½œã€‚</p>

<p>ä¾‹1ï¼šneedlesä¸­å…ƒç´ åœ¨haystacké‡Œå‡ºç°æ¬¡æ•°ï¼Œä¸¤ä¸ªå˜é‡éƒ½æ˜¯setç±»å‹ã€‚</p>

<pre><code class="python">found = len(needles &amp; haystack)
</code></pre>

<p>ä¾‹2ï¼šforå¾ªç¯å®ç°ã€‚</p>

<pre><code class="python">found =  0
for n in needles
    if n in haystack
        found += 1
</code></pre>

<p>ã€€ã€€ä¾‹1æ¯”ä¾‹2é€Ÿåº¦è¦å¿«ä¸€äº›ï¼Œå¦ä¸€æ–¹é¢ï¼Œä¾‹2å¯ä»¥ç”¨åœ¨ä»»ä½•å¯è¿­ä»£å¯¹è±¡ä¸Šï¼Œä¾‹1åˆ™è¦æ±‚ä¸¤è€…çš†ä¸ºé›†åˆã€‚è‹¥æ²¡æœ‰é›†åˆï¼Œå¯éšæ—¶å»ºç«‹é›†åˆï¼Œå¦‚ä¾‹3æ‰€ç¤ºã€‚</p>

<p>ä¾‹3ï¼šè½¬åŒ–ä¸ºsetè¿›è¡Œäº¤é›†æ“ä½œ</p>

<pre><code class="python">found = len(set(needles) &amp; set(haystack))
</code></pre>

<p>ã€€ã€€å¦ä¸€ç§å†™æ³•</p>

<pre><code class="python">found = len(set(needles).intersection(haystack))
</code></pre>

<p>ã€€ã€€ä¾‹3å†™æ³•ä¼šç‰µåˆ¶åˆ°æŠŠå¯¹è±¡è½¬åŒ–ä¸ºé›†åˆçš„æˆæœ¬ï¼Œä¸è¿‡å¦‚æœ needles æˆ– haystack ä¸­ä»»ä¸€ä¸ºé›†åˆï¼Œé‚£ä¹ˆä¾‹3çš„æ–¹æ¡ˆæ¯”ä¾‹2æ›´é«˜æ•ˆã€‚</p>

<p>ã€€ã€€ä»¥ä¸Šæ‰€æœ‰ä¾‹å­çš„è¿è¡Œæ—¶é—´éƒ½èƒ½åœ¨3æ¯«ç§’å·¦å³ï¼Œåœ¨å«æœ‰10000000ä¸ªå…ƒç´ çš„haystacké‡Œæœç´¢1000ä¸ªå€¼ï¼Œç®—ä¸‹æ¥å¤§æ¦‚æ—¶æ¯ä¸ªå…ƒç´ 3å¾®å¦™ã€‚</p>

<p>é™¤äº†é€Ÿåº¦æå¿«çš„æŸ¥æ‰¾åŠŸèƒ½ï¼ˆè¿™å½’åŠŸäºèƒŒåçš„æ•£åˆ—è¡¨ï¼‰ï¼Œå†…ç½®çš„ set å’Œ frozenset æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½å’Œæ“ä½œï¼Œä¸ä½†è®©åˆ›å»ºé›†åˆçš„æ–¹å¼ä¸°å¯Œå¤šå½©ï¼Œä¸”å¯¹äº set æ¥è®²ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹é›†åˆé‡Œå·²æœ‰çš„å…ƒç´ è¿›è¡Œä¿®æ”¹ã€‚åœ¨è®¨è®ºæ“ä½œä¹‹å‰ï¼Œå…ˆçœ‹ä¸‹ç›¸å…³çš„å¥æ³•ã€‚</p>

<h5 id="toc_0">é›†åˆå­—é¢é‡</h5>

<p>ã€€ã€€é™¤ç©ºé›†ä¹‹å¤–ï¼Œé›†åˆçš„å­—é¢é‡â€”â€”{1}ã€{1, 2}ï¼Œç­‰åˆ°â€”â€”çœ‹èµ·æ¥ä¸æ•°å­¦å½¢å¼ä¸€æ‘¸ä¸€æ ·ã€‚è‹¥æ˜¯ç©ºé›†ï¼Œåˆ™å¿…é¡»å†™æˆset()çš„å½¢å¼</p>

<p>ã€€ã€€tipï¼šåˆ›å»ºç©ºé›†ï¼Œå¿…é¡»ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„æ„é€ æ–¹æ³• set()ï¼Œå¦‚æœåªå†™æˆ {} çš„å½¢å¼ï¼Œè·Ÿä»¥å‰ä¸€æ ·ï¼Œä½ åˆ›å»ºçš„å…¶å®æ˜¯ä¸ªç©ºå­—å…¸</p>

<p>ã€€ã€€åœ¨python3ä¸­ï¼Œé™¤äº†ç©ºé›†ï¼Œé›†åˆçš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼æ€»æ˜¯ä»¥ {&hellip;} çš„å½¢å¼å‡ºç°ã€‚</p>

<p>ã€€ã€€å­—é¢é‡å¥æ³• {1, 2, 3} ç›¸æ¯”æ„é€ æ–¹æ³• (set([1, 2, 3])) è¦æ›´å¿«æ›´æ˜“è¯»ï¼Œåè€…çš„é€Ÿåº¦è¦æ…¢ä¸€äº›ï¼Œå› ä¸ºPyhton å¿…é¡»å…ˆä»è¿™ä¸ªåå­—æ¥æŸ¥è¯¢æ„é€ æ–¹æ³•ï¼Œç„¶åæ–°å»ºä¸€ä¸ªåˆ—è¡¨ï¼Œæœ€åå†æŠŠè¿™ä¸ªåˆ—è¡¨ä¼ å…¥åˆ°æ„é€ æ–¹æ³•ä¸­ï¼Œä½†å¦‚æœæ˜¯å­—é¢é‡çš„å½¢å¼ï¼ŒPythonä¼šåˆ©ç”¨ä¸€ä¸ªä¸“é—¨çš„å«åš BUILD_SET çš„å­—èŠ‚ç æ¥åˆ›å»ºé›†åˆã€‚</p>

<p>â€‹</p>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-python " style="padding-bottom:1em;">

        <div id="py_summary"></div>
        <span class="hidden" itemprop="alternateName">py_summary</span>

        <h2>
            <a itemprop="url" href="#py_summary">
                <span itemprop="name">Python Summary</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/py_summary.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">python</span>
        

        <div itemprop="description">
            

<h2 id="toc_0">å†™ç»™å¤§å¿™äººçœ‹</h2>

<h5 id="toc_1">å“ˆå“ˆå“ˆï¼Œè‹¥æ„Ÿå…´è¶£å¯ç‚¹å‡»ç›¸åº”æ–‡ç« æŸ¥é˜…ï¼ˆå…¶å®åªæœ‰ä½ ä¼šçœ‹ï¼‰ğŸ˜€å°ä¸‘ç«Ÿæ˜¯æˆ‘è‡ªå·±ã€‚</h5>

<h4 id="toc_2">å­—é¢é‡ä¸æ„é€ æ–¹æ³•</h4>

<h5 id="toc_3">1. å­—å…¸</h5>

<p>ï¼ˆ1ï¼‰å­—é¢é‡</p>

<pre><code class="python">lover = {'name': 'zxl', 'age': 18}
</code></pre>

<p>ï¼ˆ2ï¼‰æ„é€ æ–¹æ³•
~~~python
lover = dict(&lsquo;name&rsquo;=&lsquo;zxl&rsquo;, &lsquo;age&rsquo;=18)
      = dict(zip([&lsquo;name&rsquo;, &lsquo;age&rsquo;,], [&lsquo;zxl&rsquo;, 18]))
      = dict([(&lsquo;name&rsquo;, &lsquo;zxl&rsquo;), (&lsquo;age&rsquo;, 18)])
      = dict({&lsquo;name&rsquo;: &lsquo;zxl&rsquo;, &lsquo;age&rsquo;: 18})
~~~</p>

<h5 id="toc_4">2. é›†åˆ</h5>

<p>ï¼ˆ1ï¼‰å­—é¢é‡(set)</p>

<pre><code class="python">fav_player = {'kobe', 'lebra'}
</code></pre>

<p>ï¼ˆ2ï¼‰æ„é€ æ–¹æ³•</p>

<pre><code class="python">fav_player = set({'kobe', 'lebra'})
</code></pre>

<p>â€‹         frozensetæ²¡æœ‰å­—é¢é‡å¥æ³•</p>

<pre><code class="python">fav_player = frozenset({'kobe', 'lebra'})
</code></pre>

<p>â€‹         ç©ºé›†åˆå¿…é¡»å†™æˆ set()ï¼Œ{}åªä¼šè¡¨ç¤ºä¸ºç©ºå­—å…¸</p>

<pre><code class="python">empty_set = set()
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-java " style="padding-bottom:1em;">

        <div id="java_sort"></div>
        <span class="hidden" itemprop="alternateName">java_sort</span>

        <h2>
            <a itemprop="url" href="#java_sort">
                <span itemprop="name">java sort</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/java_sort.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">java</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">æ’åºç®—æ³•ç±»çš„æ¨¡æ¿</h3>

<pre><code class="java">public class Example {
    public static void stort (Compareable[] a) {
        // è§ç®—æ³• 2.1ã€2.2ã€2.3ã€2.4ã€2.5 æˆ– 2.7
    }
    
    private static boolean less (Comparable v, Comparable w) {
        return v.compareTo(w) &lt; 0;
    }
    
    private static void exah (Comparable[] a, int i, int j) {
        Comparable t = a[i];
        a[i] = a[j];
        a[j] = t;
    }
    
    private static void show (Comparable[] a) {
        // åœ¨å•è¡Œä¸­æ‰“å°æ•°ç»„
        for (int i=0; i&lt;a.length; i++)
            System.out.print(a[i] + &quot;&quot;);
        System.out.println();
    }
    
    private static boolean isStored (Comparable[] a) {
        // æµ‹è¯•æ•°ç»„å…ƒç´ æ˜¯å¦æœ‰åº
        for (int i=1; i&lt;a.length; i++)
            if (less(a[i], a[i-1])) return false;
        return true;
    }
    
    public static void main(String[] args) {
        // ä»æ ‡å‡†è¾“å…¥è¯»å–å­—ç¬¦ä¸²ï¼Œå°†å®ƒä»¬æ’åºå¹¶è¾“å‡º
        String[] a = In.readString();
        sort(a);
        assert isStored(a);
        show(a);
    }
}
</code></pre>

<h3 id="toc_1">ç®—æ³•2.1 é€‰æ‹©æ’åº</h3>

<p>æ‰¾åˆ°æ•°ç»„ä¸­æœ€å°çš„å…ƒç´ ï¼Œå°†å®ƒå’Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½®ï¼ˆå¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯æœ€å°å…ƒç´ åˆ™å®ƒå’Œè‡ªå·±äº¤æ¢ã€‚ï¼‰å†åœ¨å‰©ä¸‹çš„å…ƒç´ ä¸­æ‰¾åˆ°æœ€å°çš„å…ƒç´ ï¼Œå°†å®ƒä¸æ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ äº¤æ¢ä½ç½®ã€‚å¦‚æ­¤å¾€å¤ï¼Œç›´åˆ°å°†æ•´ä¸ªæ•°ç»„æ’åºã€‚æ­¤ä¸º*é€‰æ‹©æ’åº*ï¼Œå› ä¸ºå®ƒåœ¨ä¸æ–­é€‰æ‹©å‰©ä½™å…ƒç´ ä¹‹ä¸­çš„æœ€å°å€¼ã€‚</p>

<pre><code class="java">public class Selection {
    public static void sort(Comparable[] a) {
        // å°† a[] æŒ‰å‡åºæ’åº
        for (int i=0; i&lt;N; i++) {
            // å°† a[i] å’Œ a[i+1..N] ä¸­æœ€å°çš„å…ƒç´ äº¤æ¢
            int min = i;
            for (int j = i+1; j&lt;N; j++)
                if (less(a[j], a[min])) min = j;
            exah(a, i, min);
        }
    }
    // less()ã€exch()ã€isSorted() å’Œ main() æ–¹æ³•è§ â€œæ’åºç®—æ³•ç±»æ¨¡æ¿â€
}
</code></pre>

<h3 id="toc_2">ç®—æ³•2.2 æ’å…¥æ’åº</h3>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-js " style="padding-bottom:1em;">

        <div id="js_websocket"></div>
        <span class="hidden" itemprop="alternateName">js_websocket</span>

        <h2>
            <a itemprop="url" href="#js_websocket">
                <span itemprop="name">Js WebSocket</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/js_websocket.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">js</span>
        

        <div itemprop="description">
            

<p>web socketï¼ˆå¥—æ¥å­—ï¼‰çš„ç›®æ ‡æ˜¯é€šè¿‡ä¸€ä¸ªé•¿æ—¶è¿æ¥å®ç°ä¸æœåŠ¡å™¨å…¨åŒå·¥ã€åŒå‘çš„é€šä¿¡ã€‚åœ¨jsä¸­åˆ›å»ºweb socketæ—¶ï¼Œä¸€ä¸ªHTTPè¯·æ±‚ä¼šå‘é€åˆ°æœåŠ¡å™¨ä»¥åˆå§‹åŒ–è¿æ¥ã€‚æœåŠ¡å™¨å“åº”åï¼Œè¿æ¥ä½¿ç”¨HTTPçš„Upgradeå¤´éƒ¨ä»HTTPåè®®åˆ‡æ¢åˆ°Web Socketåè®®ã€‚è¿™æ„å‘³ç€Web Socketä¸èƒ½é€šè¿‡æ ‡å‡†HttpæœåŠ¡å™¨å®ç°ï¼Œè€Œå¿…é¡»ä½¿ç”¨æ”¯æŒè¯¥åè®®çš„ä¸“æœ‰æœåŠ¡å™¨ã€‚</p>

<p>ã€€ã€€å› ä¸ºWeb Socketä½¿ç”¨äº†è‡ªå®šä¹‰åè®®ï¼Œæ‰€ä»¥URLæ–¹æ¡ˆï¼ˆschemeï¼‰ç¨æœ‰å˜åŒ–ï¼šä¸èƒ½å†ä½¿ç”¨http://æˆ–https://ï¼Œè€Œè¦ä½¿ç”¨ws://å’Œwss://ã€‚å‰è€…æ˜¯ä¸å®‰å…¨çš„è¿æ¥ï¼Œåè€…æ˜¯å®‰å…¨è¿æ¥ã€‚åœ¨æŒ‡å®š Web Socket  URLæ—¶ï¼Œå¿…é¡»åŒ…å«URLæ–¹æ¡ˆï¼Œå› ä¸ºå°†æ¥æœ‰å¯èƒ½æ”¯æŒå…¶ä»–æ–¹æ¡ˆã€‚</p>

<p>ã€€ã€€ä½¿ç”¨è‡ªå®šä¹‰åè®®è€ŒéHTTPåè®®çš„å¥½å¤„æ˜¯ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´å¯ä»¥å‘é€éå¸¸å°‘çš„æ•°æ®ï¼Œä¸ä¼šå¯¹HTTPé€ æˆä»»ä½•è´Ÿæ‹…ã€‚ä½¿ç”¨æ›´å°çš„æ•°æ®åŒ…è®©Web Socketéå¸¸é€‚åˆå¸¦å®½å’Œå»¶è¿Ÿé—®é¢˜æ¯”è¾ƒæ˜æ˜¾çš„ç§»åŠ¨åº”ç”¨ã€‚ç¼ºç‚¹æ˜¯ï¼Œå®šä¹‰åè®®çš„æ—¶é—´æ¯”å®šä¹‰Javascript APIè¦é•¿ã€‚Web Socketå¾—åˆ°äº†æ‰€æœ‰æµè§ˆå™¨çš„æ”¯æŒã€‚</p>

<h5 id="toc_0">API</h5>

<p>ã€€ã€€åˆ›å»ºä¸€ä¸ªæ–°çš„ Web Socketï¼Œå°±è¦å®ä¾‹åŒ–ä¸€ä¸ªWebSocket å¯¹è±¡å¹¶ä¼ å…¥æä¾›è¿æ¥çš„URL</p>

<pre><code class="javascript">let socket = new WebSocket(&quot;ws://www.example.con/server.php&quot;)
</code></pre>

<p>ã€€ã€€tip: å¿…é¡»ç»™WebSocketæ„é€ å‡½æ•°ä¼ å…¥ä¸€ä¸ªç»å¯¹URLã€‚åŒæºç­–ç•¥ä¸é€‚ç”¨äºWebSocketï¼Œå› æ­¤å¯ä»¥æ‰“å¼€åˆ°ä»»æ„ç«™ç‚¹çš„è¿æ¥ã€‚è‡³äºæ˜¯å¦ä¸ç‰¹å®šæºçš„é¡µé¢é€šä¿¡ï¼Œåˆ™å®Œå…¨å–å†³äºæœåŠ¡å™¨ï¼ˆåœ¨æ¡æ‰‹é˜¶æ®µå°±å¯ä»¥ç¡®å®šè¯·æ±‚æ¥è‡ªå“ªé‡Œï¼‰</p>

<p>ã€€ã€€æµè§ˆå™¨ä¼šåœ¨åˆå§‹åŒ– WebSocket å¯¹è±¡ä¹‹åç«‹å³åˆ›å»ºè¿æ¥ã€‚ä¸XHRç±»ä¼¼ï¼ŒWebSocket ä¹Ÿæœ‰ä¸€ä¸ªreadyState å±æ€§è¡¨ç¤ºå½“å‰çŠ¶æ€ã€‚ä¸è¿‡ï¼Œè¿™ä¸ªå€¼ä¸XHRä¸­çš„å€¼ä¸ä¸€æ ·ã€‚</p>

<ul>
<li>WebSocket.OPENINGï¼ˆ0ï¼‰ï¼šè¿æ¥æ­£åœ¨å»ºç«‹ã€‚</li>
<li>WebSocket.OPENï¼ˆ1ï¼‰ï¼šè¿æ¥å·²ç»å»ºç«‹ã€‚</li>
<li>WebSokket.CLOSINGï¼ˆ2ï¼‰ï¼šè¿æ¥æ­£åœ¨å…³é—­ã€‚</li>
<li>WebSocket.CLOSEï¼ˆ3ï¼‰ï¼šè¿æ¥å·²ç»å…³é—­ã€‚</li>
</ul>

<p>ã€€ã€€WebSocket å¯¹è±¡æ²¡æœ‰ readystatechange äº‹ä»¶ï¼Œè€Œæ˜¯æœ‰ä¸ä¸Šè¿°ä¸åŒçŠ¶æ€å¯¹åº”çš„å…¶ä»–äº‹ä»¶ã€‚readyStateå€¼ä»0å¼€å§‹ã€‚</p>

<p>ã€€ã€€ä»»ä½•æ—¶å€™éƒ½å¯ä»¥è°ƒç”¨ close() æ–¹æ³•å…³é—­Web Socketè¿æ¥ï¼š</p>

<pre><code class="javascript">socket.close()
</code></pre>

<h5 id="toc_1">å‘é€å’Œæ¥å—æ•°æ®</h5>

<p>ã€€ã€€æ‰“å¼€Web Socket ä¹‹åï¼Œå¯é€šè¿‡è¿æ¥å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚è¦å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œä½¿ç”¨send() æ–¹æ³•å¹¶ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€ArrayBuffer æˆ– Blobï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<pre><code class="javascript">let socket = new WebSocket(&quot;ws://www.example.con/server.php&quot;)

let stringData = &quot;Hello World!&quot;
let arrayBufferData = Uint8Array.from['f', 'o', 'o']
let blobData = new Blob(['f', 'o', 'o'])

socket.send(stringData)
socket.send(arrayBufferData.buffer)
socket.send(blobData)
</code></pre>

<p>ã€€ã€€æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯æ—¶ï¼ŒWebSocket å¯¹è±¡ä¸Šä¼šè§¦å‘messageäº‹ä»¶ã€‚è¿™ä¸ªmessageäº‹ä»¶ä¸å…¶ä»–æ¶ˆæ¯åè®®ç±»ä¼¼ï¼Œå¯ä»¥é€šè¿‡event.dataå±æ€§è®¿é—®åˆ°æœ‰æ•ˆè½½è·ï¼š</p>

<pre><code class="javascript">socket.onmessage = function(event) {
    let data = event.data
    // å¯¹æ•°æ®æ‰§è¡ŒæŸäº›æ“ä½œ
}
</code></pre>

<p>ã€€ã€€ä¸é€šè¿‡send()æ–¹æ³•å‘é€çš„æ•°æ®ç±»ä¼¼ï¼Œevent.dataè¿”å›çš„æ•°æ®ä¹Ÿå¯èƒ½æ˜¯ArrayBuffer æˆ– Blobã€‚è¿™ç”± WebSocket å¯¹è±¡çš„ binaryType å±æ€§å†³å®šï¼Œè¯¥å±æ€§å¯èƒ½æ˜¯&rdquo;blob&rdquo;æˆ–&rdquo;arraybuffer&rdquo;ã€‚</p>

<h5 id="toc_2">å…¶ä»–äº‹ä»¶</h5>

<p>websocket å¯¹è±¡åœ¨è¿æ¥å‘¨æœŸä¸­å¯èƒ½è§¦å‘3ä¸ªå…¶ä»–äº‹ä»¶ã€‚
- openï¼šåœ¨è¿æ¥æˆåŠŸå»ºç«‹æ—¶è§¦å‘ã€‚
- errorï¼šåœ¨å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ã€‚è¿æ¥æ— æ³•ç»­å­˜ã€‚
- closeï¼šåœ¨è¿æ¥å…³é—­æ—¶è§¦å‘ã€‚</p>

<p>WebSocket å¯¹è±¡ä¸æ”¯æŒ DOM Level 2äº‹ä»¶ç›‘å¬å™¨ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨DOM Level 0é£æ ¼çš„äº‹ä»¶å¤„ç†ç¨‹åºæ¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼š</p>

<pre><code class="javascript">let socket = new WebSocket(&quot;ws://www.example.con/server.php&quot;)
socket.onopen = function() {
    alert(&quot;Connection established.&quot;)
}
socket.onerror = function() {
    alert(&quot;Connection error.&quot;)
}
socket.oncloes = function() {
    alert(&quot;Connection closed.&quot;)
}
</code></pre>

<p>ã€€ã€€åœ¨è¿™äº›äº‹ä»¶ä¸­ï¼Œåªæœ‰ close äº‹ä»¶çš„ event å¯¹è±¡ä¸Šæœ‰é¢å¤–ä¿¡æ¯ã€‚è¿™ä¸ªå¯¹è±¡ä¸Šæœ‰3ä¸ªé¢å¤–å±æ€§ï¼šwasCleanã€code å’Œ reasonã€‚å…¶ä¸­ï¼ŒweaClean æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¿æ¥æ˜¯å¦å¹²å‡€åœ°å…³é—­ï¼›code æ˜¯ä¸€ä¸ªæ¥è‡ªæœåŠ¡å™¨çš„æ•°å€¼çŠ¶æ€ç ï¼›reason æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯ã€‚å¯ä»¥å°†è¿™äº›ä¿¡æ¯æ˜¾ç¤ºç»™ç”¨æˆ·æˆ–è®°å½•åˆ°æ—¥å¿—:</p>

<pre><code class="javascript">socket.onclose = function(event) {
    console.log('as clean? $(event.wasClean) code=${event.code) Rason = ${event.reason}')
}
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-js " style="padding-bottom:1em;">

        <div id="java_collections"></div>
        <span class="hidden" itemprop="alternateName">java_collections</span>

        <h2>
            <a itemprop="url" href="#java_collections">
                <span itemprop="name">Java Collections</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/java_collections.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">js</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">æ ‡å‡†åº“ä¸­çš„é›†åˆä¸æ˜ å°„</h3>

<p>####ã€€å…³äº Set æ¥å£</p>

<p>ã€€ã€€Set æ¥å£ä»£è¡¨ä¸å…è®¸é‡å¤å…ƒçš„ Collectionã€‚ç”±æ¥å£ SortedSet ç»™å‡ºçš„ä¸€ç§ç‰¹æ®Šç±»å‹çš„ Set ä¿è¯å…¶ä¸­çš„å„é¡¹å¤„äºæœ‰åºçš„çŠ¶æ€ã€‚å› ä¸ºä¸€ä¸ª</p>

<p>Set IS-A Collectionï¼Œæ‰€ä»¥ç”¨äºè®¿é—®ç»§æ‰¿ Collection çš„ List çš„é¡¹çš„æ–¹æ³•ä¹Ÿå¯¹ Set æœ‰æ•ˆã€‚</p>

<p>ã€€ã€€ç”± Set æ‰€è¦æ±‚çš„ä¸€äº›ç‰¹æ®Šçš„æ“ä½œæ˜¯ä¸€äº›æ’å…¥ï¼Œåˆ é™¤ä»¥åŠï¼ˆæœ‰æ•ˆåœ°ï¼‰æ‰§è¡ŒåŸºæœ¬æŸ¥æ‰¾çš„èƒ½åŠ›ã€‚å¯¹äº Setï¼Œadd æ–¹æ³•å¦‚æœæ‰§è¡ŒæˆåŠŸåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseï¼Œå› ä¸ºè¢«æ·»åŠ çš„é¡¹å·²ç»å­˜åœ¨ã€‚ä¿æŒå„é¡¹ä»¥æœ‰åºçŠ¶æ€çš„ Set çš„å®ç°æ˜¯ TreeSetã€‚TreeSet ç±»çš„åŸºæœ¬æ“ä½œèŠ±è´¹å¯¹æ•°æœ€åæƒ…å½¢æ—¶é—´ã€‚</p>

<p>ã€€ã€€é»˜è®¤æƒ…å†µä¸‹ï¼Œæ’åºå‡è®¾ TreeSet ä¸­çš„é¡¹å®ç° Comparable æ¥å£ã€‚å¦ä¸€ç§æ’åºå¯ä»¥é€šè¿‡ç”¨ Comparator å®ä¾‹åŒ– TreeSet æ¥ç¡®å®šã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªå­˜å‚¨ String å¯¹è±¡çš„ TreeSetï¼Œé€šè¿‡ä½¿ç”¨ CaseInsensitiveCompare å‡½æ•°å¯¹è±¡å¿½ç•¥å¤§å°å†™ã€‚ä¸‹é¢ä»£ç ä¸­ï¼ŒSet s å¤§å°ä¸º1ã€‚</p>

<pre><code class="java">Class CaseInsensitiveCompare implements Comparator&lt;String&gt; {
    public int compare(String lhs, String rhs) {
        return lhs.compareToIgnoreCase(rhs);
    }
}

Set&lt;String&gt; s = new TreeSet&lt;&gt;(new CaseInsensitiveCompare());
s.add(&quot;Hello&quot;);
s.add(&quot;HeLLo&quot;);
System.out.print(&quot;The size is: &quot; + s.size());
</code></pre>

<h4 id="toc_1">å…³äº Map æ¥å£</h4>

<p>ã€€ã€€Map æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä»£è¡¨ç”±é”®ä»¥åŠå€¼ç»„æˆçš„ä¸€äº›é¡¹çš„é›†åˆã€‚é”®å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯è‹¥å¹²é”®å¯ä»¥æ˜ å°„åˆ°ä¸€äº›ç›¸åŒçš„å€¼ã€‚å› æ­¤ï¼Œå€¼ä¸å¿…æ˜¯å”¯ä¸€çš„ã€‚åœ¨ SortedMap æ¥å£ä¸­ï¼Œæ˜ å°„ä¸­çš„å…³é”®å­—ä¿æŒé€»è¾‘ä¸Šæœ‰åºçŠ¶æ€ã€‚SortedMap æ¥å£çš„ä¸€ç§å®ç°æ˜¯ TreeMap ç±»ã€‚Mapçš„åŸºæœ¬æ“ä½œåŒ…æ‹¬è¯¸å¦‚ isEmptyã€clearã€size ç­‰æ–¹æ³•ï¼Œè€Œä¸”æœ€é‡è¦çš„æ˜¯åŒ…å«ä»¥ä¸‹æ–¹æ³•ï¼š</p>

<pre><code class="java">boolean containsKey(keyType key);
ValueType get(keyType key);
ValueType put(KeyType key, ValueType value);
</code></pre>

<p>ã€€ã€€get è¿”å› Map ä¸­ä¸ key ç›¸å…³çš„å€¼ï¼Œæˆ–å½“ key ä¸å­˜åœ¨æ—¶è¿”å› nullã€‚å¦‚æœåœ¨ Map ä¸­ä¸å­˜åœ¨ null å€¼ï¼Œé‚£ä¹ˆç”± get è¿”å›çš„å€¼å¯ä»¥ç”¨æ¥ç¡®å®š key æ˜¯å¦å­˜åœ¨ Map ä¸­ã€‚ç„¶è€Œï¼Œå¦‚æœå­˜åœ¨ nullï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨ containsKeyã€‚æ–¹æ³• put æŠŠé”®å€¼å¯¹ç½®å…¥ Map ä¸­ï¼Œæˆ–è€…è¿”å› nullï¼Œæˆ–è€…è¿”å›ä¸key ç›¸è”ç³»çš„å€¼ã€‚</p>

<p>ã€€ã€€é€šè¿‡ä¸€ä¸ª Map è¿›è¡Œè¿­ä»£è¦æ¯” Collection å¤æ‚ï¼Œå› ä¸º Map ä¸æä¾›è¿­ä»£å™¨ï¼Œè€Œæ˜¯æ ¹æ® 3 ç§æ–¹æ³•ï¼Œå°† Map å¯¹è±¡çš„è§†å›¾ä½œä¸º Collection å¯¹è±¡è¿”å›ã€‚ç”±äºè¿™äº›è§†å›¾æœ¬èº«å°±æ˜¯ Collectionï¼Œå› æ­¤å®ƒä»¬å¯ä»¥è¢«è¿­ä»£ã€‚æ‰€æä¾›çš„ 3 ç§æ–¹æ³•å¦‚ä¸‹ï¼š</p>

<pre><code class="java">Set&lt;KeyType&gt; keySet();
Collection&lt;ValueType&gt; values();
Set&lt;Map.Entry&lt;KeyType, ValueType&gt;&gt; entrySet()
</code></pre>

<p>ã€€ã€€æ–¹æ³• keySet å’Œ values è¿”å›ç®€å•çš„é›†åˆï¼ˆé”®ä¸åŒ…å«é‡å¤å…ƒï¼Œå› æ­¤ä»¥ä¸€ä¸ª Set å¯¹è±¡çš„å½¢å¼è¿”å›ï¼‰ã€‚entrySet æ–¹æ³•æ˜¯ä½œä¸ºä¸€äº›é¡¹è€Œå½¢æˆçš„ Set å¯¹è±¡è¢«è¿”å›çš„ï¼ˆç”±äºé”®å”¯ä¸€ï¼Œå› æ­¤ä¸å­˜åœ¨é‡å¤é¡¹ï¼‰ã€‚æ¯ä¸€é¡¹å‡ç”±è¢«åµŒå¥—çš„æ¥å£ Map.Entry è¡¨ç¤ºã€‚å¯¹äºç±»å‹ Map.Entry çš„å¯¹è±¡ï¼Œå…¶ç°æœ‰çš„æ–¹æ³•åŒ…å«è®¿é—®é”®ã€é”®çš„å€¼ã€ä»¥åŠæ”¹å˜é”®å¯¹åº”çš„å€¼ï¼š</p>

<pre><code class="java">KeyType getKey();
ValueType getValue();
ValueType setValue(ValueType newValue);
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-js " style="padding-bottom:1em;">

        <div id="js_storage"></div>
        <span class="hidden" itemprop="alternateName">js_storage</span>

        <h2>
            <a itemprop="url" href="#js_storage">
                <span itemprop="name">Js Storage</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/js_storage.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">js</span>
        

        <div itemprop="description">
            

<p>cookieã€æµè§ˆå™¨å­˜å‚¨APIï¼ŒIndexedDB</p>

<h2 id="toc_0">èƒŒæ™¯ï¼š</h2>

<p>ã€€ã€€ç›´æ¥åœ¨å®¢æˆ·ç«¯å­˜å‚¨ç”¨æˆ·ä¿¡æ¯å‡ºäºç”¨æˆ·æƒ³è¦å°†ä¸è‡ªèº«æœ‰å…³çš„ä¿¡æ¯ä¿å­˜åœ¨ç”¨æˆ·çš„æœºå™¨ä¸Šã€‚æ— èŠæ˜¯ç™»å½•ä¿¡æ¯ã€ä¸ªäººåå¥½ï¼Œè¿˜æ˜¯å…¶ä»–æ•°æ®ã€‚Webåº”ç”¨ç¨‹åºæä¾›è€…éœ€è¦å°†å®ƒä»¬ä¿å­˜åœ¨ç”¨æˆ·çš„æœºå™¨ä¸Šã€‚å¯¹æ­¤ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå°±æ˜¯cookieã€‚cookieæ˜¯å¤è€çš„ç½‘æ™¯å…¬å¸å‘æ˜ï¼Œç”±ä¸€ä»½åä¸º <em>Persistent Client State: HTTP Cookies</em> çš„è§„èŒƒå®šä¹‰ã€‚ä»Šå¤© cookie åªæ˜¯åœ¨å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®çš„ä¸€ä¸ªé€‰é¡¹ã€‚</p>

<h3 id="toc_1">1. cookie</h3>

<p>ã€€ã€€HTTP cookie é€šå¸¸ä¹Ÿå«åš cookieï¼Œæœ€åˆç”¨äºåœ¨å®¢æˆ·ç«¯å­˜å‚¨ä¼šè¯ä¿¡æ¯ã€‚è¿™ä¸ªè§„èŒƒè¦æ±‚æœåŠ¡å™¨åœ¨å“åº” HTTP è¯·æ±‚æ—¶ï¼Œé€šè¿‡å‘é€ Set-Cookie HTTP å¤´éƒ¨åŒ…å«ä¼šè¯ä¿¡æ¯ã€‚ä¾‹ä¸‹é¢æ˜¯åŒ…å«è¿™ä¸ªå¤´éƒ¨çš„ä¸€ä¸ª HTTP å“åº”ï¼š</p>

<pre><code>HTTP/1.1 200 OK
Content-type: text/html
Set-Cookie: name=value
Other-header: other-header-value
</code></pre>

<p>ã€€ã€€è¿™ä¸ª HTTP å“åº”ä¼šè®¾ç½®ä¸€ä¸ªåä¸º&rdquo;name&rdquo;ï¼Œå€¼ä¸º&rdquo;value&rdquo;çš„ cookieã€‚é”®å’Œå€¼åœ¨å‘é€æ—¶éƒ½ä¼šç»è¿‡ URL ç¼–ç ã€‚æµè§ˆå™¨ä¼šå­˜å‚¨è¿™äº›ä¼šè¯ä¿¡æ¯ï¼Œå¹¶åœ¨ä¹‹åçš„æ¯ä¸ªè¯·æ±‚ä¸­éƒ½ä¼šé€šè¿‡ HTTP å¤´éƒ¨ cookie å†å°†å®ƒä»¬å‘å›æœåŠ¡å™¨ï¼Œæ¯”å¦‚ï¼š</p>

<pre><code>GET /index.js HTTP/1.1
Cookie: name=value
Other-header: other-header-value
</code></pre>

<p>ã€€ã€€è¿™äº›å‘é€å›æœåŠ¡å™¨çš„é¢å¤–ä¿¡æ¯å¯ç”¨äºå”¯ä¸€æ ‡è¯†å‘é€è¯·æ±‚çš„å®¢æˆ·ç«¯ã€‚</p>

<h3 id="toc_2">2. é™åˆ¶</h3>

<p>ã€€ã€€cookie æ˜¯ä¸ç‰¹å®šåŸŸç»‘å®šçš„ã€‚è®¾ç½® cookie åï¼Œå®ƒä¼šä¸è¯·æ±‚ä¸€èµ·å‘é€åˆ°åˆ›å»ºå®ƒçš„åŸŸã€‚è¿™ä¸ªé™åˆ¶èƒ½ä¿è¯ cookie ä¸­å­˜å‚¨çš„ä¿¡æ¯åªå¯¹è®¤å¯çš„æ¥æ”¶è€…å¼€æ”¾ï¼Œä¸è¢«å…¶ä»–åŸŸè®¿é—®ã€‚</p>

<p>ã€€ã€€å› ä¸º cookie å­˜å‚¨åœ¨å®¢æˆ·ç«¯æœºå™¨ä¸Šï¼Œæ‰€ä»¥ä¸ºä¿è¯å®ƒä¸ä¼šè¢«æ¶æ„åˆ©ç”¨ï¼Œæµè§ˆå™¨ä¼šæ–½åŠ é™åˆ¶ã€‚åŒæ—¶ï¼Œcookie ä¹Ÿä¸ä¼šå ç”¨å¤ªå¤šç£ç›˜ç©ºé—´ã€‚é€šå¸¸ï¼Œåªè¦éµå®ˆä»¥ä¸‹å¤§è‡´çš„é™åˆ¶ï¼Œå°±ä¸ä¼šåœ¨ä»»ä½•æµè§ˆå™¨ä¸­ç¢°åˆ°é—®é¢˜</p>

<ul>
<li>ä¸è¶…è¿‡ 300 ä¸ª cookieï¼›</li>
<li>æ¯ä¸ª cookie ä¸è¶…è¿‡ 4096 å­—èŠ‚ï¼›</li>
<li>æ¯ä¸ªåŸŸä¸è¶…è¿‡ 20 ä¸ª cookieï¼›</li>
<li>æ¯ä¸ªåŸŸä¸è¶…è¿‡ 81920 å­—èŠ‚ã€‚</li>
</ul>

<p>ã€€ã€€æ¯ä¸ªåŸŸèƒ½è®¾ç½®çš„ cookie æ€»æ•°ä¹Ÿæ˜¯å—é™çš„ï¼Œä½†ä¸åŒæµè§ˆå™¨çš„é™åˆ¶ä¸åŒ</p>

<p>ã€€ã€€Safari å’Œ Chrome å¯¹æ¯ä¸ªåŸŸçš„ cookie æ•°æ²¡æœ‰ç¡¬æ€§é™åˆ¶ã€‚</p>

<p>ã€€ã€€å¦‚æœ cookie æ€»æ•°è¶…è¿‡å•ä¸ªåŸŸçš„ä¸Šé™ï¼Œæµè§ˆå™¨å°±ä¼šåˆ é™¤ä¹‹å‰è®¾ç½®çš„ cookieã€‚</p>

<h2 id="toc_3">Web Storage</h2>

<p>ã€€ã€€Web Storage çš„ç›®çš„æ˜¯è§£å†³é€šè¿‡å®¢æˆ·ç«¯å­˜å‚¨ä¸éœ€è¦é¢‘ç¹å‘é€å›æœåŠ¡å™¨çš„æ•°æ®æ—¶ä½¿ç”¨ cookie çš„é—®é¢˜ã€‚</p>

<p>ã€€ã€€Web Storage è§„èŒƒæœ€æ–°çš„ç‰ˆæœ¬æ˜¯ç¬¬2ç‰ˆï¼Œè¿™ä¸€ç‰ˆè§„èŒƒä¸»è¦æœ‰ä¸¤ä¸ªç›®æ ‡ï¼š</p>

<ul>
<li><p>æä¾›åœ¨ cookie ä¹‹å¤–çš„å­˜å‚¨ä¼šè¯æ•°æ®çš„é€”å¾„ï¼›</p></li>

<li><p>æä¾›è·¨ä¼šè¯æŒä¹…åŒ–å­˜å‚¨å¤§é‡æ•°æ®çš„æœºåˆ¶ã€‚</p></li>
</ul>

<p>ã€€ã€€web storage çš„ç¬¬2ç‰ˆå®šä¹‰äº†ä¸¤ä¸ªå¯¹è±¡ï¼šlocalStorage å’Œ sessionStorageã€‚localStorage æ˜¯ <strong>æ°¸ä¹…å­˜å‚¨æœºåˆ¶</strong>ï¼ŒsessionStorage æ˜¯<strong>è·¨ä¼šè¯</strong>çš„å­˜å‚¨æœºåˆ¶ã€‚è¿™ä¸¤ç§æµè§ˆå™¨ API æä¾›äº†åœ¨æµè§ˆå™¨ä¸­ä¸å—é¡µé¢åˆ·æ–°å½±å“è€Œå­˜å‚¨æ•°æ®çš„ä¸¤ç§æ–¹å¼ã€‚2009å¹´ä¹‹åæ‰€æœ‰ä¸»è¦ä¾›åº”å•†å‘å¸ƒçš„æµè§ˆå™¨ç‰ˆæœ¬åœ¨window å¯¹è±¡ä¸Šæ”¯æŒ localStorage å’Œ sessionStorageã€‚ï¼ˆweb storage ç¬¬ä¸€ç‰ˆæ›¾ç”¨è¿‡ globalStorageï¼Œä¸è¿‡ç°å·²åºŸå¼ƒï¼‰ã€‚</p>

<p>### Storage ç±»å‹</p>

<p>ã€€ã€€Storage ç±»å‹ç”¨äºä¿å­˜é”®å€¼å¯¹æ•°æ®ï¼Œç›´åˆ°å­˜å‚¨ç©ºé—´ä¸Šé™ï¼ˆç”±æµè§ˆå™¨å†³å®šï¼‰ã€‚Storage çš„å®ä¾‹ä¸å…¶ä»–å¯¹è±¡ä¸€æ ·ï¼Œä½†å¢åŠ äº†ä»¥ä¸‹æ–¹æ³•</p>

<ul>
<li>clear()ï¼šåˆ é™¤æ‰€æœ‰å€¼ï¼Œä¸åœ¨ Firefox ä¸­å®ç°ã€‚</li>
<li>getItem(<em>name</em>)ï¼šå–å¾—ç»™å®š <em>name</em> çš„å€¼ã€‚</li>
<li>key(<em>index</em>)ï¼šå–å¾—ç»™å®šæ•°å€¼ä½ç½®çš„åç§°ã€‚</li>
<li>removeItem(<em>name</em>)ï¼šåˆ é™¤ç»™å®šçš„ <em>name</em> çš„é”®å€¼å¯¹ã€‚</li>
<li>setItem(<em>name</em>, <em>value</em>)ï¼šè®¾ç½®ç»™å®š <em>name</em> çš„å€¼ã€‚</li>
</ul>

<p>ã€€ã€€getItem() ã€remove() å’Œ setItem() æ–¹æ³•å¯ä»¥ç›´æ¥æˆ–é—´æ¥é€šè¿‡ Storage å¯¹è±¡è°ƒç”¨ã€‚å› ä¸ºæ¯ä¸ªæ•°æ®é¡¹éƒ½ä½œä¸ºå±æ€§å­˜å‚¨åœ¨è¯¥å¯¹è±¡ä¸Šã€‚æ‰€ä»¥å¯ä»¥ä½¿ç”¨ç‚¹æˆ–æ–¹æ‹¬å·è®¿é—®è¿™äº›å±æ€§ï¼Œé€šè¿‡åŒæ ·æ“ä½œæ¥è®¾ç½®å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ delete æ“ä½œç¬¦åˆ é™¤å±æ€§ã€‚å³ä¾¿å¦‚æ­¤ï¼Œé€šå¸¸è¿˜æ˜¯å»ºè®®ä½¿ç”¨æ–¹æ³•è€Œéå±æ€§æ¥æ‰§è¡Œè¿™äº›æ“ä½œï¼Œä»¥å…æ„å¤–é‡å†™æŸä¸ªå·²å­˜åœ¨çš„å¯¹è±¡æˆå‘˜ã€‚</p>

<p>ã€€ã€€é€šè¿‡ length å±æ€§å¯ä»¥ç¡®å®š Storage å¯¹è±¡ä¸­ä¿å­˜äº†å¤šå°‘é”®å€¼å¯¹ã€‚æˆ‘ä»¬æ— æ³•ç¡®å®šå¯¹è±¡ä¸­æ‰€æœ‰æ•°æ®å ç”¨çš„ç©ºé—´å¤§å°ï¼Œå°½ç®¡ IE8 æä¾›äº† remainingSpace å±æ€§ç”¨äºç¡®å®šè¿˜æœ‰å¤šå°‘å­˜å‚¨ç©ºé—´ï¼ˆä»¥å­—èŠ‚è®¡ï¼‰å¯ç”¨ã€‚</p>

<p>ã€€ã€€Storage ç±»å‹åªèƒ½å­˜å‚¨<strong>å­—ç¬¦ä¸²</strong>ã€‚éå­—ç¬¦ä¸²æ•°æ®åœ¨å­˜å‚¨ä¹‹åä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚æ³¨æ„ï¼Œè¿™ç§è½¬æ¢ä¸èƒ½åœ¨è·å–æ•°æ®æ—¶æ’¤é”€ã€‚</p>

<h3 id="toc_4">SessionStorage</h3>

<p>ã€€ã€€SessionStorage å¯¹è±¡åªå­˜å‚¨<strong>ä¼šè¯ä¿¡æ¯</strong>ï¼Œå³æ•°æ®åªä¼šå­˜å‚¨åˆ°æµè§ˆå™¨å…³é—­ã€‚è¿™è·Ÿæµè§ˆå™¨å…³é—­æ—¶ä¼šæ¶ˆå¤±çš„ä¼šè¯ cookie ç±»ä¼¼ã€‚å­˜å‚¨åœ¨ SessionStorage ä¸­çš„æ•°æ®ä¸å—é¡µé¢åˆ·æ–°å½±å“ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨å´©æºƒå¹¶é‡å¯åæ¢å¤ã€‚ï¼ˆå–å†³äºæµè§ˆå™¨ï¼ŒFirefox å’Œ WebKitæ”¯æŒï¼ŒIEä¸æ”¯æŒï¼‰</p>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-redis " style="padding-bottom:1em;">

        <div id="redis_clients"></div>
        <span class="hidden" itemprop="alternateName">redis_clients</span>

        <h2>
            <a itemprop="url" href="#redis_clients">
                <span itemprop="name">Redis Clients</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/redis_clients.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">redis</span>
        

        <div itemprop="description">
            

<h4 id="toc_0">Python å®¢æˆ·ç«¯ redis-py</h4>

<p>ã€€ã€€ã€redis-py çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€redis-py çš„ Pipeline çš„ä½¿ç”¨å’Œ redis-py çš„ Lua è„šæœ¬ä½¿ç”¨ã€‚</p>

<h4 id="toc_1">è·å– redis-py</h4>

<p>redis-py éœ€è¦ Python 2.7 ä»¥ä¸Šç‰ˆæœ¬ã€‚è·å–æ–¹å¼å¦‚ä¸‹ï¼š</p>

<pre><code class="shell"># ä½¿ç”¨ pip è¿›è¡Œå®‰è£…
pip install redis

# ä½¿ç”¨ easy_install å®‰è£…
easy_install redis

# æºç å®‰è£…ï¼šä»¥2.10.5ä¸ºä¾‹
wget https://guthub.com/andymccurdy/redis-py/archive/2.10.5.zip
uzip redis-2.10.5.zip
cd redis-2.10.5
# å®‰è£… redis-py
python setup.py install
</code></pre>

<h4 id="toc_2">redis-py çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h4>

<pre><code class="python">import redis

# ç”Ÿäº§å®¢æˆ·ç«¯è¿æ¥ï¼šéœ€ Redis å®ä¾‹ IP å’Œç«¯å£ä¸¤ä¸ªå‚æ•°
client = redis.StrictRedis(host='127.0.0.1', port=6379)

# æ‰§è¡Œå‘½ä»¤ï¼Œredis-py API ä¿ç•™äº† Redis API çš„åŸå§‹é£æ ¼
client.set(key, &quot;python-redis&quot;) # True
client.get(key) # world
</code></pre>

<h4 id="toc_3">redis-py ä¸­çš„ Pipeline çš„åªä½¿ç”¨æ–¹æ³•</h4>

<pre><code class="python">pipline = client.pipline(transaction=False) # transaction False ä»£è¡¨ä¸ä½¿ç”¨äº‹åŠ¡

# å°†å‘½ä»¤å°è£…åˆ° Pipline ä¸­ï¼Œæ­¤æ—¶å‘½ä»¤å¹¶æ²¡æœ‰çœŸæ­£æ‰§è¡Œ
pipline.set('hello', 'world')
pipline.incr('counter')

# æ‰§è¡Œ Pipline
result = pipline.execute() # [True, 3]
</code></pre>

<h4 id="toc_4">redis-py ä¸­çš„ Lua è„šæœ¬ä½¿ç”¨æ–¹æ³•</h4>

<p>redid-py æä¾›äº†ä¸‰ä¸ªé‡è¦çš„å‡½æ•°å®ç° Lua è„šæœ¬çš„æ‰§è¡Œï¼š</p>

<pre><code class="python">eval(String script, int keyCount, String... params)
script_load(String script)
evalsha(String sha1, int keyCount, String... params)
</code></pre>

<p>scriptï¼šLua è„šæœ¬å†…å®¹ï¼›KeyCountï¼šé”®çš„ä¸ªæ•°ï¼›paramsï¼šç›¸å…³å‚æ•° KEYS å’Œ ARGVã€‚</p>

<p>return redis.call(&lsquo;get&rsquo;, KEYS[1])  åœ¨ redis-py ä¸­å®ç°å¦‚ä¸‹</p>

<pre><code class="python">script = 'return redis.call('get', KEYS[1]) '
client.eval(script, 1, 'hello') # world
</code></pre>

<p>script_load å’Œ evalsha å‡½æ•°ä¸€èµ·ä½¿ç”¨ï¼Œé¦–å…ˆä½¿ç”¨ script_load å°†è„šæœ¬åŠ è½½åˆ° Redis ä¸­</p>

<pre><code class="python">scriptSha = client.script_load(script)
</code></pre>

<p>evalsha å‡½æ•°ç”¨æ¥æ‰§è¡Œè„šæœ¬çš„å“ˆå¸Œå€¼ï¼Œéœ€è¦ä¸‰ä¸ªå‚æ•°ï¼š</p>

<p>scriptShaï¼šè„šæœ¬çš„ SHA1ï¼›KeyCountï¼šé”®çš„ä¸ªæ•°ï¼›paramsï¼šç›¸å…³å‚æ•° KEYS å’Œ ARGVã€‚</p>

<p>æ‰§è¡Œæ•ˆæœå¦‚ä¸‹</p>

<pre><code class="python">client.evalsha(scriptSha, 1, 'hello')
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-redis " style="padding-bottom:1em;">

        <div id="redis_cmd"></div>
        <span class="hidden" itemprop="alternateName">redis_cmd</span>

        <h2>
            <a itemprop="url" href="#redis_cmd">
                <span itemprop="name">Redis Command</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/redis_cmd.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">redis</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">å…¨å±€å‘½ä»¤</h3>

<h5 id="toc_1">1. æŸ¥çœ‹æ‰€æœ‰é”®ï¼š</h5>

<pre><code class="shell">keys *
</code></pre>

<h5 id="toc_2">2. é”®æ€»æ•°ï¼š</h5>

<pre><code class="shell">dbsize
</code></pre>

<h5 id="toc_3">3. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨</h5>

<pre><code class="shell">exists key # å­˜åœ¨è¿”å›1ï¼Œä¸å­˜åœ¨è¿”å›0
</code></pre>

<h5 id="toc_4">4. åˆ é™¤é”®</h5>

<pre><code class="shell">del key [key ...] # é€šç”¨å‘½ä»¤ æ— è®ºå€¼æ˜¯ä»€ä¹ˆç±»å‹éƒ½å¯åˆ é™¤ è¿”å›ç»“æœä¸ºæˆåŠŸåˆ é™¤é”®çš„ä¸ªæ•°ï¼Œåˆ é™¤ä¸å­˜åœ¨çš„é”®ï¼Œå°±ä¼šè¿”å›0
</code></pre>

<h5 id="toc_5">5. é”®è¿‡æœŸ</h5>

<pre><code class="shell">expire key seconds
</code></pre>

<p>ttl å‘½ä»¤è¿”å›é”®çš„å‰©ä½™è¿‡æœŸæ—¶é—´ï¼Œæœ‰ä¸‰ç§è¿”å›å€¼</p>

<ul>
<li>å¤§äºç­‰äº0çš„æ•´æ•°ï¼šé”®å‰©ä½™çš„è¿‡æœŸæ—¶é—´</li>
<li>-1ï¼šé”®æ²¡è®¾ç½®è¿‡æœŸæ—¶é—´</li>
<li>-2ï¼šé”®ä¸å­˜åœ¨</li>
</ul>

<h5 id="toc_6">6. é”®çš„æ•°æ®ç»“æ„ç±»å‹</h5>

<pre><code class="shell">type key # é”®ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›none
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-redis " style="padding-bottom:1em;">

        <div id="redis_list"></div>
        <span class="hidden" itemprop="alternateName">redis_list</span>

        <h2>
            <a itemprop="url" href="#redis_list">
                <span itemprop="name">Redis List</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/redis_list.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">redis</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">åˆ—è¡¨</h3>

<p>åˆ—è¡¨çš„å››ç§æ“ä½œç±»å‹</p>

<table>
<thead>
<tr>
<td>æ“ä½œç±»å‹</td>
<td>æ“ä½œ</td>
</tr>
</thead>

<tbody>
<tr>
<td>æ·»åŠ </td>
<td>rpush    lpush    linsert</td>
</tr>

<tr>
<td>æŸ¥</td>
<td>lrange    lindex   len</td>
</tr>

<tr>
<td>åˆ é™¤</td>
<td>lpop     rpop     lrem    ltrim</td>
</tr>

<tr>
<td>ä¿®æ”¹</td>
<td>lset</td>
</tr>

<tr>
<td>é˜»å¡æ“ä½œ</td>
<td>blop   brpop</td>
</tr>
</tbody>
</table>

<h5 id="toc_1">1.æ·»åŠ æ“ä½œ</h5>

<p>ï¼ˆ1ï¼‰ä»å³è¾¹æ’å…¥å…ƒç´ </p>

<pre><code class="shell">rpush key value [value ...]
</code></pre>

<p>lrang 0 -1 å‘½ä»¤å¯ä»¥ä»å·¦åˆ°å³è·å–åˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ </p>

<p>ï¼ˆ2ï¼‰ä»å·¦è¾¹æ’å…¥å…ƒç´ </p>

<pre><code class="shell">lpush key value [value ....]
</code></pre>

<p>ï¼ˆ3ï¼‰å‘æŸä¸ªå…ƒç´ å‰æˆ–è€…åæ’å…¥å…ƒç´ </p>

<pre><code class="shell">linsert key before|after privot value
</code></pre>

<p>linsert å‘½ä»¤ä¼šä»åˆ—è¡¨ä¸­æ‰¾åˆ°ç­‰äºpivotçš„å…ƒç´ ï¼Œåœ¨å…¶å‰ï¼ˆbeforeï¼‰æˆ–è€…åï¼ˆafterï¼‰æ’å…¥æ–°å…ƒç´ value</p>

<p>è¿”å›å½“å‰å‘½ä»¤é•¿åº¦</p>

<h5 id="toc_2">2.æŸ¥æ‰¾</h5>

<p>ï¼ˆ1ï¼‰è·å–æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ åˆ—è¡¨</p>

<pre><code class="powershell">lrange key start end
</code></pre>

<p>lrangeæ“ä½œä¼šè·å–åˆ—è¡¨æŒ‡å®šç´¢å¼•èŒƒå›´æ‰€æœ‰çš„å…ƒç´ ã€‚ç´¢å¼•ä¸‹æ ‡æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š</p>

<p>ç¬¬ä¸€ï¼Œç´¢å¼•ä¸‹æ ‡ä»å·¦åˆ°å³åˆ†åˆ«æ˜¯0åˆ°N-1ï¼Œä½†ä»å³åˆ°å·¦åˆ†åˆ«æ˜¯-1 åˆ° -N</p>

<p>ç¬¬äºŒï¼Œlrangeä¸­çš„endé€‰é¡¹åŒ…å«äº†è‡ªèº«</p>

<p>ï¼ˆ2ï¼‰è·å–åˆ—è¡¨æŒ‡å®šç´¢å¼•ä¸‹æ ‡çš„å…ƒç´ </p>

<pre><code class="powershell">lindex key index
</code></pre>

<p>ï¼ˆ3ï¼‰è·å–åˆ—è¡¨é•¿åº¦</p>

<pre><code class="powershell">llen key
</code></pre>

<h5 id="toc_3">3.åˆ é™¤</h5>

<p>ï¼ˆ1ï¼‰ä»åˆ—è¡¨å·¦ä¾§å¼¹å‡ºå…ƒç´ </p>

<pre><code class="powershell">lpop key
</code></pre>

<p>ï¼ˆ2ï¼‰ä»åˆ—è¡¨å³ä¾§å¼¹å‡º</p>

<pre><code class="powershell">rpop key
</code></pre>

<p>ï¼ˆ3ï¼‰åˆ é™¤æŒ‡å®šå…ƒç´ </p>

<pre><code class="powershell">lrem key count value
</code></pre>

<p>lrem ä¼šä»åˆ—è¡¨ä¸­æ‰¾åˆ°ç­‰äºvalue çš„å…ƒç´ è¿›è¡Œåˆ é™¤ï¼Œæ ¹æ®countçš„ä¸åŒåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š</p>

<ul>
<li>count&gt;0ï¼Œä»å·¦åˆ°å³ï¼Œåˆ é™¤æœ€å¤šcountä¸ªå…ƒç´ ã€‚</li>
<li>count&lt;0ï¼Œä»å³åˆ°å·¦ï¼Œåˆ é™¤æœ€å¤šcountç»å¯¹å€¼ä¸ªå…ƒç´ </li>
<li>count=0ï¼Œåˆ é™¤æ‰€æœ‰</li>
</ul>

<p>ï¼ˆ4ï¼‰æŒ‰ç…§ç´¢å¼•èŒƒå›´ä¿®å‰ªåˆ—è¡¨</p>

<pre><code class="powershell">ltrim key start end
</code></pre>

<h5 id="toc_4">4. ä¿®æ”¹</h5>

<p>ä¿®æ”¹æŒ‡å®šç´¢å¼•ä¸‹æ ‡çš„å…ƒç´ ï¼š</p>

<pre><code class="powershell">lset key index newValue
</code></pre>

<h5 id="toc_5">5. é˜»å¡æ“ä½œ</h5>

<p>é˜»å¡å¼å¼¹å‡ºå¦‚ä¸‹ï¼š</p>

<pre><code class="powershell">blpop key [key ...] timout
brpop key [key ...] timout
</code></pre>

<p>blpop å’Œ brpop æ˜¯ lpop å’Œ rpop çš„é˜»å¡ç‰ˆæœ¬ï¼Œå®ƒä»¬é™¤äº†å¼¹å‡ºæ–¹å¼ä¸åŒï¼Œä½¿ç”¨æ–¹æ³•åŸºæœ¬ç›¸åŒï¼Œæ‰€ä»¥ä¸‹é¢ä»¥brpopå‘½ä»¤è¿›è¡Œè¯´æ˜,brpopå‘½ä»¤åŒ…å«ä¸¤ä¸ªå‚æ•°:</p>

<ul>
<li><p>key [key &hellip;]ï¼šå¤šä¸ªåˆ—è¡¨çš„é”®ã€‚</p></li>

<li><p>timeoutï¼šé˜»å¡æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰</p></li>
</ul>

<p>1ï¼‰åˆ—è¡¨ä¸ºç©ºï¼šå¦‚æœ timeout=3ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯è¦ç­‰åˆ° 3 ç§’åè¿”å›ï¼Œtimeout=0ï¼Œå®¢æˆ·ç«¯ä¼šä¸€ç›´é˜»å¡ç­‰ä¸‹å»</p>

<pre><code class="powershell">127.0.0.1:6379&gt; brpop list:test 3
(nill)
(3.10s)
127.0.0.1:6379&gt; brpop list:test 3
...é˜»å¡...
</code></pre>

<p>å¦‚æœæ­¤æœŸé—´æ·»åŠ äº†æ•°æ® element1ï¼Œå®¢æˆ·ç«¯ç«‹å³è¿”å›ï¼š</p>

<pre><code class="powershell">127.0.0.1:6379&gt; brpop list:test 3
1) &quot;list:test&quot;
2) &quot;element1&quot;
(2.06s)
</code></pre>

<p>2ï¼‰åˆ—è¡¨ä¸ä¸ºç©ºï¼šå®¢æˆ·ç«¯ä¼šç«‹åˆ»è¿”å›ã€‚</p>

<pre><code class="powershell">127.0.0.1:6379&gt; brpop list:test 0
1) &quot;list:test&quot;
2) &quot;element1&quot;
</code></pre>

<p>åœ¨ä½¿ç”¨ bprop æ—¶ï¼Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ã€‚</p>

<p>ç¬¬ä¸€ç‚¹ï¼Œå¦‚æœæ˜¯å¤šä¸ªé”®ï¼Œé‚£ä¹ˆ brpop ä¼šä»å·¦è‡³å³éå†é”®ï¼Œä¸€æ—¦æœ‰ä¸ªé”®èƒ½å¼¹å‡ºå…ƒç´ ï¼Œå®¢æˆ·ç«¯ç«‹å³å›ï¼š</p>

<pre><code class="powershell">127.0.0.1:6379&gt; brpop list:1 list:2 list:3
...é˜»å¡...
</code></pre>

<p>æ­¤æ—¶å¦ä¸€ä¸ªå®¢æˆ·ç«¯åˆ†åˆ«å‘ list:2 å’Œ list:3 æ’å…¥å…ƒç´ ï¼š</p>

<pre><code class="powershell">client-lpush&gt; lpush list:2 element2
(integer) 1
client-lpush&gt; lpish list:3 element3
(integer) 1
</code></pre>

<p>å®¢æˆ·ç«¯ä¼šç«‹å³è¿”å› list:2 ä¸­çš„ element2ï¼Œå› ä¸º list:2 æœ€å…ˆæœ‰å¯èƒ½å¼¹å‡ºçš„å…ƒç´ ï¼š</p>

<pre><code class="powershell">127.0.0.1ï¼š6379&gt; bprop list:1 list:2 list:3 0
1) &quot;list:2&quot;
2) &quot;element2_1&quot;
</code></pre>

<p>ç¬¬äºŒç‚¹ï¼Œå¦‚æœå¤šä¸ªå®¢æˆ·ç«¯å¯¹åŒä¸€ä¸ªé”®æ‰§è¡Œ bpropï¼Œé‚£ä¹ˆæœ€å…ˆæ‰§è¡Œ brpop å‘½ä»¤çš„å®¢æˆ·ç«¯å¯ä»¥è·å–åˆ°å‡ºçš„å€¼ï¼š
å®¢æˆ·ç«¯1ï¼š</p>

<pre><code class="powershell">client-1&gt; bprop list:test 0
...é˜»å¡...
</code></pre>

<p>å®¢æˆ·ç«¯2ï¼š</p>

<pre><code class="powershell">client-2&gt; bprop list:test 0
...é˜»å¡...
</code></pre>

<p>å®¢æˆ·ç«¯3ï¼š</p>

<pre><code class="powershell">client-3&gt; bprop list:test 0
...é˜»å¡...
</code></pre>

<p>æ­¤æ—¶å¦ä¸€ä¸ªå®¢æˆ·ç«¯ lpush ä¸€ä¸ªå…ƒç´ åˆ° list:test åˆ—è¡¨ä¸­ï¼š</p>

<pre><code class="powershell">client-lpush&gt; lpush list:test element
(integer) 1
</code></pre>

<p>é‚£ä¹ˆå®¢æˆ·ç«¯ 1 æœ€ä¼šè·å–åˆ°å…ƒç´ ï¼Œå› ä¸ºå®¢æˆ·ç«¯ 1 æœ€å…ˆæ‰§è¡Œ brpopï¼Œè€Œå®¢æˆ·ç«¯2 å’Œ 3 ç»§ç»­é˜»å¡</p>

<pre><code class="powershell">client&gt; bprop list:test 0
1) &quot;list:test&quot;
2) &quot;elememt&quot;  
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-redis " style="padding-bottom:1em;">

        <div id="redis_string"></div>
        <span class="hidden" itemprop="alternateName">redis_string</span>

        <h2>
            <a itemprop="url" href="#redis_string">
                <span itemprop="name">Redis String</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/redis_string.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">redis</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">å­—ç¬¦ä¸²</h3>

<h4 id="toc_1">1 å¸¸ç”¨å‘½ä»¤</h4>

<p>(1) è®¾ç½®å€¼</p>

<pre><code class="shell">set key value [ex seconds] [px milliseconds] [nx|xx]
</code></pre>

<p>set å‘½ä»¤æœ‰å‡ ä¸ªé€‰é¡¹</p>

<ul>
<li>ex secondsï¼šä¸ºé”®è®¾ç½®ç§’çº§è¿‡æœŸæ—¶é—´ã€‚</li>
<li>px millisecondsï¼šä¸ºé”®è®¾ç½®æ¯«ç§’çº§è¿‡æœŸæ—¶é—´</li>
<li>nxï¼š é”®å¿…é¡»ä¸å­˜åœ¨ï¼Œæ‰å¯ä»¥è®¾ç½®æˆåŠŸï¼Œç”¨äºæ·»åŠ </li>
<li>xxï¼šä¸nxç›¸åï¼Œé”®å¿…é¡»å­˜åœ¨ï¼Œæ‰å¯ä»¥è®¾ç½®æˆåŠŸï¼Œç”¨äºæ›´æ–°</li>
</ul>

<p>é™¤äº† set é€‰é¡¹ï¼ŒRedis è¿˜æä¾›äº† setex å’Œ setnx ä¸¤ä¸ªå‘½ä»¤</p>

<pre><code class="shell">setnx key seconds value
setnx key value
</code></pre>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-redis " style="padding-bottom:1em;">

        <div id="redis_config"></div>
        <span class="hidden" itemprop="alternateName">redis_config</span>

        <h2>
            <a itemprop="url" href="#redis_config">
                <span itemprop="name">Redis Config</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/redis_config.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">redis</span>
        

        <div itemprop="description">
            

<h3 id="toc_0">å¯åŠ¨</h3>

<h4 id="toc_1">é»˜è®¤é…ç½®</h4>

<p>â€‹       redis-service  å»ºè®®ä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨</p>

<h4 id="toc_2">è¿è¡Œé…ç½®</h4>

<p>â€‹       redis-service &ndash;configKey &ndash;configValue &ndash;configKey2 &ndash; configValue2</p>

<p>â€‹       ä¾‹ï¼šredis-server &ndash;port &ndash;6379</p>

<h4 id="toc_3">é…ç½®æ–‡ä»¶å¯åŠ¨</h4>

<p>â€‹       ä¾‹ï¼šé…ç½®æ–‡ä»¶å†™åœ¨/opt/redis/redis.config</p>

<p>â€‹       redis-server /opt/redis/redis.config</p>

<p>ä¸€äº›é‡è¦é…ç½®å¦‚ä¸‹</p>

<table>
<thead>
<tr>
<td>é…ç½®å</td>
<td>é…ç½®è¯´æ˜</td>
</tr>
</thead>

<tbody>
<tr>
<td>port</td>
<td>ç«¯å£</td>
</tr>

<tr>
<td>logfile</td>
<td>æ—¥å¿—æ–‡ä»¶</td>
</tr>

<tr>
<td>dir</td>
<td>Rediså·¥ä½œç›®å½•ï¼ˆå­˜æ”¾æŒä¹…åŒ–æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ï¼‰</td>
</tr>

<tr>
<td>dacmonize</td>
<td>æ˜¯å¦ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å¯åŠ¨Redis</td>
</tr>
</tbody>
</table>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
	    <section itemscope itemtype="http://schema.org/Property"> 
    <div class="col-xs-12 rule tag-other " style="padding-bottom:1em;">

        <div id="mac"></div>
        <span class="hidden" itemprop="alternateName">mac</span>

        <h2>
            <a itemprop="url" href="#mac">
                <span itemprop="name">MAC adr</span>
            </a>
        </h2>

        <a href="https://github.com/checkmyws/yslow-rules/edit/master/content/en/mac.md" target="_blank">
            <span class="pull-right glyphicon glyphicon-edit"></span>
        </a>

        Tags:
        
            <span class="tags label label-default">other</span>
        

        <div itemprop="description">
            

<p><strong>MACåœ°å€</strong>ï¼ˆ<strong>è‹±è¯­ï¼šMedia Access Control Addressï¼‰</strong>ï¼Œç›´è¯‘ä¸º<strong>åª’ä½“è®¿é—®æ§åˆ¶åœ°å€</strong>ï¼Œä¹Ÿç§°ä¸º<strong>å±€åŸŸç½‘åœ°å€</strong>ï¼ˆLAN Addressï¼‰ï¼Œ<strong>ä»¥å¤ªç½‘åœ°å€</strong>ï¼ˆEthernet Addressï¼‰æˆ–<strong>ç‰©ç†åœ°å€</strong>ï¼ˆPhysical Addressï¼‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨æ¥ç¡®è®¤ç½‘ç»œè®¾å¤‡ä½ç½®çš„åœ°å€ã€‚åœ¨<a href="https://zh.wikipedia.org/wiki/OSIæ¨¡å‹">OSIæ¨¡å‹</a>ä¸­ï¼Œç¬¬ä¸‰å±‚ç½‘ç»œå±‚è´Ÿè´£IPåœ°å€ï¼Œç¬¬äºŒå±‚æ•°æ®é“¾æ¥å±‚åˆ™è´Ÿè´£MACåœ°å€ã€‚MACåœ°å€ç”¨äºåœ¨ç½‘ç»œä¸­å”¯ä¸€æ ‡ç¤ºä¸€ä¸ªç½‘å¡ï¼Œä¸€å°è®¾å¤‡è‹¥æœ‰ä¸€æˆ–å¤šä¸ªç½‘å¡ï¼Œåˆ™æ¯ä¸ªç½‘å¡éƒ½éœ€è¦å¹¶ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„MACåœ°å€ã€‚</p>

<h2 id="toc_0">æ ¼å¼</h2>

<p>ã€€ã€€MACåœ°å€å…±48ä½ï¼ˆ6ä¸ªå­—èŠ‚ï¼‰ï¼Œä»¥åå…­è¿›åˆ¶è¡¨ç¤ºã€‚</p>

<p>ã€€ã€€ç¬¬1Bitä¸ºå¹¿æ’­åœ°å€(0)/ç¾¤æ’­åœ°å€(1)ï¼Œç¬¬2Bitä¸ºå¹¿åŸŸåœ°å€(0)/åŒºåŸŸåœ°å€(1)ã€‚å‰3~24ä½ç”±<a href="https://zh.wikipedia.org/wiki/IEEE">IEEE</a>å†³å®šå¦‚ä½•åˆ†é…ç»™æ¯ä¸€å®¶åˆ¶é€ å•†ï¼Œä¸”ä¸é‡å¤ï¼Œå24ä½ç”±å®é™…ç”Ÿäº§è¯¥ç½‘ç»œè®¾å¤‡çš„å‚å•†è‡ªè¡ŒæŒ‡å®šä¸”ä¸é‡å¤ã€‚</p>

<p>ã€€ã€€ff:ff:ff:ff:ff:ffåˆ™ä½œä¸ºå¹¿æ’­åœ°å€ã€‚</p>

<p>ã€€ã€€01:xx:xx:xx:xx:xxæ˜¯å¤šæ’­åœ°å€ï¼Œ01:00:5e:xx:xx:xxæ˜¯<a href="https://zh.wikipedia.org/wiki/IPv4">IPv4</a>å¤šæ’­åœ°å€ã€‚</p>

<h2 id="toc_1">ä¸¾ä¾‹</h2>

<p>ã€€ã€€å‡è®¾ç°æœ‰ä¸€å°è·¯ç”±å™¨ï¼Œå«æœ‰ä¸€ä¸ªWANç«¯å£åŠå››ä¸ªLANç«¯å£ã€‚å®ƒçš„WANç«¯å£ä¼šæœ‰ä¸€ä¸ªå¦‚61.61.61.61çš„IPåœ°å€ï¼Œä¹Ÿä¼šæœ‰ä¸€ä¸ªå¦‚00:0A:02:0B:03:0Cçš„MACåœ°å€ã€‚è€Œå®ƒçš„å››ä¸ªLANç«¯å£ä¼šå„åˆ†é…åˆ°ä¸€ä¸ªä¾‹å¦‚192.168.1.0/24çš„IPåœ°å€ï¼Œå››ä¸ªç«¯å£å„ä¼šæœ‰ä¸€ä¸ªä¸åŒçš„MACåœ°å€ã€‚</p>

<h2 id="toc_2">æŸ¥çœ‹MACåœ°å€</h2>

<h3 id="toc_3">Windows</h3>

<p>ã€€ã€€åœ¨Windowså‘½ä»¤æç¤ºç¬¦ï¼ˆcmd.exeï¼‰ä¸‹è¿è¡Œ ipconfig /all å‘½ä»¤ã€‚å‡è®¾è¿è¡Œç»“æœå«ï¼š</p>

<pre><code class="powershell">        Physical Address. . . . . . . . . : 00-05-5D-E8-0F-A3
</code></pre>

<p>ã€€ã€€é‚£ä¹ˆå…¶ä¸­çš„00-05-5D-E8-0F-A3å°±æ˜¯æœ¬æœºç½‘å¡çš„MACåœ°å€ã€‚å¦‚æœè®¡ç®—æœºä¸Šæœ‰å¤šä¸ªç½‘ç»œè®¾å¤‡ï¼ˆæ— è®ºç‰©ç†æˆ–è™šæ‹Ÿï¼‰ï¼Œåˆ™ä¼šæœ‰å¤šç»„ä¿¡æ¯åŠMACåœ°å€ï¼Œéœ€è¾¨è¯†ç›¸åº”çš„è®¾å¤‡ã€‚</p>

<h3 id="toc_4">Linux</h3>

<p>ã€€ã€€ç¬¬ä¸€ç§ï¼š åœ¨ Linuxä¸‹è¿è¡Œ ifconfig å‘½ä»¤ï¼Œå¦‚ä¸‹ï¼š</p>

<pre><code class="shell"> $ ifconfig
 eth0    Link encap:Ethernet HWaddr 00:0C:29:01:98:27
         inet addr:192.168.1.88  Bcast:192.168.1.255  Mask:255.255.255.0
         UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
         RX packets:74978 errors:0 dropped:0 overruns:0 frame:0
         TX packets:38451 errors:0 dropped:0 overruns:0 carrier:0
         collisions:0 txqueuelen:100
         RX bytes:14157042 (13.5 Mb)  TX bytes:5063398 (4.8 Mb)
         Interrupt:18 Base address:0x1080
 
 lo      Link encap:Local Loopback
         inet addr:127.0.0.1  Mask:255.0.0.0
         UP LOOPBACK RUNNING  MTU:16436  Metric:1
         RX packets:1097 errors:0 dropped:0 overruns:0 frame:0
         TX packets:1097 errors:0 dropped:0 overruns:0 carrier:0
         collisions:0 txqueuelen:0
         RX bytes:151393 (147.8 Kb)  TX bytes:151393 (147.8 Kb)
</code></pre>

<p>ã€€ã€€eth0 ä¸ºç¬¬ä¸€å—ç‰©ç†ç½‘å¡ï¼Œ HWaddr 00:0C:29:01:98:27 å°±æ˜¯MACåœ°å€ï¼Œloä¸ºæœ¬åœ°å›ç¯åœ°å€ã€‚</p>

<p>ã€€ã€€ç¬¬äºŒç§ï¼š è¿è¡Œ ipå‘½ä»¤(æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œä¸æ˜¯Tcp/Ipé‡Œçš„ip)ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<pre><code> $ ip link show
 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
 2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 28:d2:44:d4:e6:ea brd ff:ff:ff:ff:ff:ff
</code></pre>

<p>ã€€ã€€å…¶ä¸­$æ˜¯linuxä¸‹çš„å‘½ä»¤æç¤ºç¬¦ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼š$ è¡¨ç¤ºä¸€èˆ¬ç”¨æˆ·ï¼Œ# è¡¨ç¤ºrootç”¨æˆ·</p>

<h2 id="toc_5">å¦‚ä½•ä¿®æ”¹MACåœ°å€</h2>

<p>ã€€ã€€ç½‘å¡MACåœ°å€å¯ä»¥é€šè¿‡Windowsè®¾å¤‡ç®¡ç†å‘˜æˆ–å…¶ä»–å·¥å…·ä¿®æ”¹ã€‚å¯¹äºæŸäº›æ‰‹æœºã€å¹³æ¿ç”µè„‘è®¾å¤‡æ¥è¯´ï¼Œå…¶MACåœ°å€ï¼äº§å“åºå·å‡ç”±å‚æ–¹è¿åŒé”€å”®æˆ–ä¿ä¿®æ—¶çš„å®¢æˆ·èµ„æ–™ä¸€å¹¶è®°å½•åœ¨æ¡ˆï¼Œè€Œæœ‰å…³çš„MACåœ°å€ä¹Ÿä¸å¯é€šè¿‡å¸¸è§„æ‰‹æ®µæ¥ä¿®æ”¹ã€‚</p>

        </div>
        <br>
        <a href="#top">Top</a> | <a itemprop="sameAs" href="http://developer.yahoo.com/performance/rules.html#cdn">Reference</a>
    </div>
</section>
	  
  </div>
</div>


<hr>
<div class="container footer">
  <div class="row">
    <div class="col-xs-12 text-center">
		YSlow are licensed under the <a href="https://raw.github.com/marcelduran/yslow/master/LICENSE.txt">New BSD License</a>.<br>
		YSlow also includes files from the <a href="http://yuilibrary.com/">Yahoo! User Interface library</a>, which are licensed under the <a href="http://yuilibrary.com/license/">BSD license</a>.<br>
		Translations are licensed under the <a href="https://raw.github.com/checkmyws/yslow-rules/master/LICENSE">MIT License</a>.<br>
		Powered by <a href="http://hugo.spf13.com/">Hugo</a>.
    </div>
  </div>
</div>
    <noscript></noscript>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src="https://gniqizeuy.github.io//js/main.js"></script>
  </body>
</html>